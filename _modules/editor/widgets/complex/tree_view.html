<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>editor.widgets.complex.tree_view &mdash; DearDoc dev documentation</title>
      <link rel="stylesheet" href="../../../../_static/pygments.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/css/theme.css" type="text/css" />
      <link rel="stylesheet" href="../../../../_static/graphviz.css" type="text/css" />
    <link rel="shortcut icon" href="../../../../_static/favicon.ico"/>
  <!--[if lt IE 9]>
    <script src="../../../../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.0/jquery.min.js"></script>
        <script data-url_root="../../../../" id="documentation_options" src="../../../../_static/documentation_options.js"></script>
        <script src="../../../../_static/doctools.js"></script>
        <script src="../../../../_static/sphinx_highlight.js"></script>
    <script src="../../../../_static/js/theme.js"></script>
    <link rel="index" title="Index" href="../../../../genindex.html" />
    <link rel="search" title="Search" href="../../../../search.html" /> 
</head>

<body class="wy-body-for-nav"> 
  <div class="wy-grid-for-nav">
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >

          
          
          <a href="../../../../index.html" class="icon icon-home">
            DearDoc
          </a>
              <div class="version">
                dev
              </div>
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../../../../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" aria-label="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>
        </div><div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="Navigation menu">
              <ul>
<li class="toctree-l1"><a class="reference internal" href="../../../../_docs/about.html">About</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../_docs/about/introduction.html">Introduction</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../_docs/about/frequently_asked_questions.html">Frequently asked questions</a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../_docs/about/troubleshooting.html">Troubleshooting</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../_docs/manual.html">Manual</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../_docs/manual/introduction.html">Introduction</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../_docs/contributing.html">Contributing</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../_docs/contributing/introduction.html">Introduction</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../../../../autoapi/index.html">API Reference</a><ul>
<li class="toctree-l2"><a class="reference internal" href="../../../../autoapi/editor/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../autoapi/editor/common/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.common</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/common/database/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.common.database</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/common/dispatcher/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.common.dispatcher</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/common/ease/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.common.ease</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/common/file_watcher/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.common.file_watcher</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/common/icon_cache/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.common.icon_cache</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/common/logger/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.common.logger</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/common/math/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.common.math</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/common/native/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.common.native</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/common/util/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.common.util</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../autoapi/editor/models/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.models</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/models/asset/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.models.asset</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/models/asset/asset/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.models.asset.asset</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/models/asset/asset_db/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.models.asset.asset_db</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/models/asset/importer/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.models.asset.importer</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/models/asset/meta/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.models.asset.meta</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/models/editor/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.models.editor</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/models/editor/data_grid/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.models.editor.data_grid</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/models/editor/editor_prefs/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.models.editor.editor_prefs</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/models/editor/menu_tree/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.models.editor.menu_tree</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/models/gameplay/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.models.gameplay</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/models/gameplay/component/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.models.gameplay.component</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/models/gameplay/entity/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.models.gameplay.entity</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/models/gameplay/scene/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.models.gameplay.scene</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/models/graph/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.models.graph</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/models/graph/base/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.models.graph.base</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/models/graph/fsm/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.models.graph.fsm</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/models/graph/shader/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.models.graph.shader</span></code></a></li>
</ul>
</li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../autoapi/editor/pipeline/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.pipeline</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/pipeline/build/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.pipeline.build</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/pipeline/build/targets/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.pipeline.build.targets</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../../../autoapi/editor/pipeline/build/targets/default/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.pipeline.build.targets.default</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/pipeline/build/registry/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.pipeline.build.registry</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/pipeline/build/shared_task/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.pipeline.build.shared_task</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/pipeline/run/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.pipeline.run</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/pipeline/run/targets/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.pipeline.run.targets</span></code></a><ul>
<li class="toctree-l6"><a class="reference internal" href="../../../../autoapi/editor/pipeline/run/targets/editor/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.pipeline.run.targets.editor</span></code></a></li>
<li class="toctree-l6"><a class="reference internal" href="../../../../autoapi/editor/pipeline/run/targets/external/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.pipeline.run.targets.external</span></code></a></li>
</ul>
</li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/pipeline/run/registry/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.pipeline.run.registry</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/pipeline/run/shared_task/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.pipeline.run.shared_task</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/pipeline/core/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.pipeline.core</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../autoapi/editor/views/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.views</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/views/animation/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.views.animation</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/views/build/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.views.build</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/views/console/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.views.console</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/views/fsm_graph/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.views.fsm_graph</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/views/gallery/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.views.gallery</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/views/game/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.views.game</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/views/hierarchy/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.views.hierarchy</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/views/inspector/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.views.inspector</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/views/preference/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.views.preference</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/views/preview/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.views.preview</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/views/profiler/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.views.profiler</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/views/project/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.views.project</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/views/project_setting/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.views.project_setting</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/views/scene/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.views.scene</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/views/shader_graph/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.views.shader_graph</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../autoapi/editor/widgets/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets</span></code></a><ul>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/widgets/basic/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.basic</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/widgets/basic/button/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.basic.button</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/widgets/basic/line_edit/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.basic.line_edit</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/widgets/basic/search_edit/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.basic.search_edit</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/widgets/basic/slider/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.basic.slider</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/widgets/complex/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.complex</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/widgets/complex/advanced_menu/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.complex.advanced_menu</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/widgets/complex/color_picker/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.complex.color_picker</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/widgets/complex/datagrid_view/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.complex.datagrid_view</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/widgets/complex/tree_stacked/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.complex.tree_stacked</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.complex.tree_view</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/widgets/container/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.container</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/widgets/container/collapsible/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.container.collapsible</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/widgets/container/sliding_stacked/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.container.sliding_stacked</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/widgets/misc/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.misc</span></code></a><ul>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/widgets/misc/flow_layout/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.misc.flow_layout</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/widgets/misc/line/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.misc.line</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/widgets/misc/pixmap_icon/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.misc.pixmap_icon</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/widgets/misc/toast/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.misc.toast</span></code></a></li>
<li class="toctree-l5"><a class="reference internal" href="../../../../autoapi/editor/widgets/misc/waiting_spinner/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.misc.waiting_spinner</span></code></a></li>
</ul>
</li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/widgets/menubar/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.menubar</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/widgets/statusbar/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.statusbar</span></code></a></li>
<li class="toctree-l4"><a class="reference internal" href="../../../../autoapi/editor/widgets/toolbar/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.widgets.toolbar</span></code></a></li>
</ul>
</li>
<li class="toctree-l3"><a class="reference internal" href="../../../../autoapi/editor/main_window/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.main_window</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../autoapi/editor/theme_manager/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.theme_manager</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../autoapi/editor/view_manager/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">editor.view_manager</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../autoapi/engine/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">engine</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../autoapi/engine/bridge/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">engine.bridge</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../autoapi/engine/runtime/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">engine.runtime</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../autoapi/engine/standalone/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">engine.standalone</span></code></a></li>
</ul>
</li>
<li class="toctree-l2"><a class="reference internal" href="../../../../autoapi/launcher/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">launcher</span></code></a></li>
<li class="toctree-l2"><a class="reference internal" href="../../../../autoapi/tools/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tools</span></code></a><ul>
<li class="toctree-l3"><a class="reference internal" href="../../../../autoapi/tools/doc/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tools.doc</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../autoapi/tools/hello/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tools.hello</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../autoapi/tools/ide/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tools.ide</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../autoapi/tools/python/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tools.python</span></code></a></li>
<li class="toctree-l3"><a class="reference internal" href="../../../../autoapi/tools/report/index.html"><code class="xref py py-mod docutils literal notranslate"><span class="pre">tools.report</span></code></a></li>
</ul>
</li>
</ul>
</li>
</ul>

        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap"><nav class="wy-nav-top" aria-label="Mobile navigation menu" >
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../../../../index.html">DearDoc</a>
      </nav>

      <div class="wy-nav-content">
        <div class="rst-content">
          <div role="navigation" aria-label="Page navigation">
  <ul class="wy-breadcrumbs">
      <li><a href="../../../../index.html" class="icon icon-home" aria-label="Home"></a></li>
          <li class="breadcrumb-item"><a href="../../../index.html">Module code</a></li>
      <li class="breadcrumb-item active">editor.widgets.complex.tree_view</li>
      <li class="wy-breadcrumbs-aside">
      </li>
  </ul>
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
             
  <h1>Source code for editor.widgets.complex.tree_view</h1><div class="highlight"><pre>
<span></span><span class="kn">import</span> <span class="nn">functools</span><span class="o">,</span> <span class="nn">time</span>
<span class="kn">from</span> <span class="nn">enum</span> <span class="kn">import</span> <span class="n">Enum</span>
<span class="kn">from</span> <span class="nn">math</span> <span class="kn">import</span> <span class="n">floor</span>
<span class="kn">from</span> <span class="nn">PySide6.QtCore</span> <span class="kn">import</span> <span class="n">Qt</span><span class="p">,</span> <span class="n">Property</span><span class="p">,</span> <span class="n">QSize</span><span class="p">,</span> <span class="n">QRect</span><span class="p">,</span> <span class="n">QTimer</span><span class="p">,</span> <span class="n">QPointF</span><span class="p">,</span> <span class="n">QMimeData</span><span class="p">,</span> <span class="n">QItemSelectionModel</span><span class="p">,</span> <span class="n">QEvent</span>
<span class="kn">from</span> <span class="nn">PySide6.QtWidgets</span> <span class="kn">import</span> <span class="n">QTreeView</span><span class="p">,</span> <span class="n">QWidget</span><span class="p">,</span> <span class="n">QApplication</span><span class="p">,</span> <span class="n">QAbstractItemView</span><span class="p">,</span> <span class="n">QItemDelegate</span><span class="p">,</span> <span class="n">QStyle</span><span class="p">,</span> <span class="n">QStyleOption</span><span class="p">,</span> <span class="n">QStylePainter</span>
<span class="kn">from</span> <span class="nn">PySide6.QtGui</span> <span class="kn">import</span> <span class="n">QStandardItemModel</span><span class="p">,</span> <span class="n">QStandardItem</span><span class="p">,</span> <span class="n">QPen</span><span class="p">,</span> <span class="n">QBrush</span><span class="p">,</span> <span class="n">QPainter</span><span class="p">,</span> <span class="n">QColor</span><span class="p">,</span> <span class="n">QDrag</span><span class="p">,</span> <span class="n">QCursor</span><span class="p">,</span> <span class="n">QPixmap</span><span class="p">,</span> <span class="n">QMouseEvent</span><span class="p">,</span> <span class="n">QRadialGradient</span>
<span class="kn">from</span> <span class="nn">editor.common.math</span> <span class="kn">import</span> <span class="n">clamp</span><span class="p">,</span> <span class="n">lerp</span>
<span class="kn">from</span> <span class="nn">editor.common.ease</span> <span class="kn">import</span> <span class="n">easeInOutQuad</span><span class="p">,</span> <span class="n">easeOutQuad</span>
<span class="kn">from</span> <span class="nn">editor.common.icon_cache</span> <span class="kn">import</span> <span class="n">getThemePixmap</span>


<div class="viewcode-block" id="TreeItemDelegate"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemDelegate">[docs]</a><span class="k">class</span> <span class="nc">TreeItemDelegate</span><span class="p">(</span><span class="n">QItemDelegate</span><span class="p">):</span>
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">view</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">view</span> <span class="o">=</span> <span class="n">view</span>

<div class="viewcode-block" id="TreeItemDelegate.sizeHint"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemDelegate.sizeHint">[docs]</a>	<span class="k">def</span> <span class="nf">sizeHint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
		<span class="n">w</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="n">rect</span><span class="o">.</span><span class="n">width</span><span class="p">()</span>
		<span class="n">h</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">SizeHintRole</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">h</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span> <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">itemHeight</span>
		<span class="k">return</span> <span class="n">QSize</span><span class="p">(</span><span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span></div>

<div class="viewcode-block" id="TreeItemDelegate.updateEditorGeometry"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemDelegate.updateEditorGeometry">[docs]</a>	<span class="k">def</span> <span class="nf">updateEditorGeometry</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">editor</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
		<span class="n">view</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">view</span>
		<span class="n">rect</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">visualRect</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
		<span class="n">left</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="n">view</span><span class="o">.</span><span class="n">treePaddingLeft</span>
		<span class="k">if</span> <span class="n">index</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">DecorationRole</span><span class="p">):</span> <span class="n">left</span> <span class="o">+=</span> <span class="n">view</span><span class="o">.</span><span class="n">indentation</span><span class="p">()</span> <span class="o">+</span> <span class="n">view</span><span class="o">.</span><span class="n">itemPaddingLeft</span>
		<span class="n">rect</span><span class="o">.</span><span class="n">setLeft</span><span class="p">(</span><span class="n">left</span> <span class="o">-</span> <span class="mi">3</span><span class="p">)</span>
		<span class="n">editor</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">rect</span><span class="p">)</span></div>

<div class="viewcode-block" id="TreeItemDelegate.paint"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemDelegate.paint">[docs]</a>	<span class="k">def</span> <span class="nf">paint</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">painter</span><span class="p">,</span> <span class="n">option</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
		<span class="n">painter</span><span class="o">.</span><span class="n">setRenderHint</span><span class="p">(</span><span class="n">QPainter</span><span class="o">.</span><span class="n">Antialiasing</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

		<span class="n">view</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">view</span>
		<span class="n">rect</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="n">rect</span>
		<span class="n">rect</span><span class="o">.</span><span class="n">setHeight</span><span class="p">(</span><span class="n">view</span><span class="o">.</span><span class="n">itemHeight</span><span class="p">)</span>

		<span class="n">l</span><span class="p">,</span> <span class="n">r</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">left</span><span class="p">(),</span> <span class="n">rect</span><span class="o">.</span><span class="n">right</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span>
		<span class="n">t</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">top</span><span class="p">(),</span> <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>

		<span class="n">ch</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">SizeHintRole</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">ch</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span> <span class="n">ch</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">itemHeight</span>
		<span class="n">painter</span><span class="o">.</span><span class="n">setClipRect</span><span class="p">(</span><span class="n">QRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">ch</span><span class="p">))</span>

		<span class="n">bgRect</span> <span class="o">=</span> <span class="n">QRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
		<span class="n">branchRect</span> <span class="o">=</span> <span class="n">QRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">drawBackground</span><span class="p">(</span><span class="n">painter</span><span class="p">,</span> <span class="n">bgRect</span><span class="p">,</span> <span class="n">option</span><span class="o">.</span><span class="n">state</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">drawBranchLines</span><span class="p">(</span><span class="n">painter</span><span class="p">,</span> <span class="n">branchRect</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">drawBranchArrow</span><span class="p">(</span><span class="n">painter</span><span class="p">,</span> <span class="n">branchRect</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">drawContent</span><span class="p">(</span><span class="n">painter</span><span class="p">,</span> <span class="n">rect</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span></div>

<div class="viewcode-block" id="TreeItemDelegate.drawBackground"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemDelegate.drawBackground">[docs]</a>	<span class="k">def</span> <span class="nf">drawBackground</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">painter</span><span class="p">,</span> <span class="n">rect</span><span class="p">,</span> <span class="n">state</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
		<span class="n">view</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">view</span>
		<span class="n">selected</span> <span class="o">=</span> <span class="n">state</span> <span class="o">&amp;</span> <span class="n">QStyle</span><span class="o">.</span><span class="n">State_Selected</span>
		<span class="n">hovered</span>  <span class="o">=</span> <span class="n">index</span> <span class="o">==</span> <span class="n">view</span><span class="o">.</span><span class="n">hoveredIndex</span> <span class="c1"># option.state &amp; QStyle.State_MouseOver</span>
		<span class="n">bgColor</span>  <span class="o">=</span> <span class="kc">None</span>
		<span class="k">if</span> <span class="n">selected</span><span class="p">:</span>
			<span class="n">bgColor</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">backgroundSelected</span> <span class="k">if</span> <span class="n">view</span><span class="o">.</span><span class="n">viewFocused</span> <span class="k">else</span> <span class="n">view</span><span class="o">.</span><span class="n">backgroundSelectedUnfocused</span>
		<span class="k">elif</span> <span class="n">hovered</span> <span class="ow">and</span> <span class="n">view</span><span class="o">.</span><span class="n">dropIndicatorRect</span> <span class="o">==</span> <span class="kc">None</span><span class="p">:</span>
			<span class="n">bgColor</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">backgroundHovered</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="c1"># alternate = option.features &amp; QStyleOptionViewItem.Alternate</span>
			<span class="n">alternate</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">useAlternatingBackground</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">_flatVisibleRowNumber</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">view</span><span class="o">.</span><span class="n">model</span><span class="p">())</span> <span class="o">%</span> <span class="mi">2</span>
			<span class="n">bgColor</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">backgroundAlternate</span> <span class="k">if</span> <span class="n">alternate</span> <span class="k">else</span> <span class="n">view</span><span class="o">.</span><span class="n">background</span>
		<span class="n">painter</span><span class="o">.</span><span class="n">fillRect</span><span class="p">(</span><span class="n">rect</span><span class="p">,</span> <span class="n">bgColor</span><span class="p">)</span></div>
<div class="viewcode-block" id="TreeItemDelegate.drawContent"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemDelegate.drawContent">[docs]</a>	<span class="k">def</span> <span class="nf">drawContent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">painter</span><span class="p">,</span> <span class="n">rect</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
		<span class="n">view</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">view</span>
		<span class="n">textOffset</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">treePaddingLeft</span>
		<span class="n">decoration</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">DecorationRole</span><span class="p">)</span>

		<span class="k">if</span> <span class="n">decoration</span><span class="p">:</span>
			<span class="n">indentation</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">indentation</span><span class="p">()</span>
			<span class="n">rectSize</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">itemHeight</span>
			<span class="n">textOffset</span> <span class="o">+=</span> <span class="n">indentation</span> <span class="o">+</span> <span class="n">view</span><span class="o">.</span><span class="n">itemPaddingLeft</span>
			<span class="n">cx</span><span class="p">,</span> <span class="n">cy</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">left</span><span class="p">()</span> <span class="o">+</span> <span class="nb">round</span><span class="p">(</span><span class="n">indentation</span> <span class="o">/</span> <span class="mi">2</span><span class="p">),</span> <span class="n">rect</span><span class="o">.</span><span class="n">top</span><span class="p">()</span> <span class="o">+</span> <span class="nb">round</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
			<span class="n">iconSize</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">itemIconSize</span>
			<span class="n">halfSize</span> <span class="o">=</span> <span class="n">iconSize</span> <span class="o">/</span> <span class="mi">2</span>
			<span class="n">x</span><span class="p">,</span> <span class="n">y</span> <span class="o">=</span> <span class="n">cx</span> <span class="o">-</span> <span class="n">halfSize</span> <span class="o">+</span> <span class="n">view</span><span class="o">.</span><span class="n">treePaddingLeft</span><span class="p">,</span> <span class="n">cy</span> <span class="o">-</span> <span class="n">halfSize</span>
			<span class="n">painter</span><span class="o">.</span><span class="n">drawPixmap</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">iconSize</span><span class="p">,</span> <span class="n">iconSize</span><span class="p">,</span> <span class="n">decoration</span><span class="p">)</span>

		<span class="n">painter</span><span class="o">.</span><span class="n">drawText</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">adjusted</span><span class="p">(</span><span class="n">textOffset</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="n">Qt</span><span class="o">.</span><span class="n">AlignVCenter</span><span class="p">,</span> <span class="n">index</span><span class="o">.</span><span class="n">data</span><span class="p">())</span></div>
<div class="viewcode-block" id="TreeItemDelegate.drawBranchLines"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemDelegate.drawBranchLines">[docs]</a>	<span class="k">def</span> <span class="nf">drawBranchLines</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">painter</span><span class="p">,</span> <span class="n">rect</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
		<span class="n">view</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">view</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">view</span><span class="o">.</span><span class="n">drawBranchLine</span><span class="p">:</span> <span class="k">return</span>

		<span class="n">itemDepth</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_depth</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
		<span class="n">drawDepth</span> <span class="o">=</span> <span class="n">itemDepth</span> <span class="o">-</span> <span class="n">view</span><span class="o">.</span><span class="n">branchLineFilterDepth</span>
		<span class="k">if</span> <span class="n">drawDepth</span> <span class="o">&gt;=</span> <span class="mi">0</span><span class="p">:</span>
			<span class="n">painter</span><span class="o">.</span><span class="n">setOpacity</span><span class="p">(</span><span class="mf">0.4</span><span class="p">)</span>
			<span class="n">indentation</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">indentation</span><span class="p">()</span>
			<span class="n">t</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">top</span><span class="p">(),</span> <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
			<span class="c1"># print(index.siblingAtRow(index.row()+1).isValid(), index.data())</span>
			<span class="n">curr</span> <span class="o">=</span> <span class="n">index</span>
			<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">drawDepth</span><span class="p">):</span>
				<span class="n">x</span> <span class="o">=</span> <span class="nb">int</span><span class="p">(</span><span class="n">indentation</span> <span class="o">*</span> <span class="p">(</span><span class="n">itemDepth</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mf">0.5</span><span class="p">))</span> <span class="o">+</span> <span class="n">view</span><span class="o">.</span><span class="n">treePaddingLeft</span>
				<span class="c1"># painter.fillRect(x, t, indentation, h, Qt.green)</span>
				<span class="n">hasSiblings</span> <span class="o">=</span> <span class="n">curr</span><span class="o">.</span><span class="n">siblingAtRow</span><span class="p">(</span><span class="n">curr</span><span class="o">.</span><span class="n">row</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span><span class="p">)</span><span class="o">.</span><span class="n">isValid</span><span class="p">()</span>
				<span class="n">adjoinsItem</span> <span class="o">=</span> <span class="n">i</span> <span class="o">==</span> <span class="mi">0</span>
				<span class="k">if</span> <span class="n">hasSiblings</span><span class="p">:</span>
					<span class="k">if</span> <span class="ow">not</span> <span class="n">adjoinsItem</span><span class="p">:</span>
						<span class="n">painter</span><span class="o">.</span><span class="n">drawPixmap</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">indentation</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">getThemePixmap</span><span class="p">(</span><span class="s1">&#39;icon_branch_I.png&#39;</span><span class="p">))</span>
					<span class="k">else</span><span class="p">:</span>
						<span class="n">painter</span><span class="o">.</span><span class="n">drawPixmap</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">indentation</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">getThemePixmap</span><span class="p">(</span><span class="s1">&#39;icon_branch_T.png&#39;</span><span class="p">))</span>
				<span class="k">elif</span> <span class="ow">not</span> <span class="n">hasSiblings</span> <span class="ow">and</span> <span class="n">adjoinsItem</span><span class="p">:</span>
					<span class="n">painter</span><span class="o">.</span><span class="n">drawPixmap</span><span class="p">(</span><span class="n">x</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">indentation</span><span class="p">,</span> <span class="n">h</span><span class="p">,</span> <span class="n">getThemePixmap</span><span class="p">(</span><span class="s1">&#39;icon_branch_L.png&#39;</span><span class="p">))</span>
				<span class="n">curr</span> <span class="o">=</span> <span class="n">curr</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
			<span class="n">painter</span><span class="o">.</span><span class="n">setOpacity</span><span class="p">(</span><span class="mi">1</span><span class="p">)</span></div>
<div class="viewcode-block" id="TreeItemDelegate.drawBranchArrow"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemDelegate.drawBranchArrow">[docs]</a>	<span class="k">def</span> <span class="nf">drawBranchArrow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">painter</span><span class="p">,</span> <span class="n">rect</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">index</span><span class="o">.</span><span class="n">model</span><span class="p">()</span><span class="o">.</span><span class="n">hasChildren</span><span class="p">(</span><span class="n">index</span><span class="p">):</span> <span class="k">return</span>

		<span class="n">view</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">view</span>
		<span class="n">size</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">branchPixmapSize</span>
		<span class="n">sizeHalf</span> <span class="o">=</span> <span class="n">size</span> <span class="o">/</span> <span class="mi">2</span>
		<span class="n">cx</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">right</span><span class="p">()</span> <span class="o">-</span> <span class="nb">round</span><span class="p">(</span><span class="n">view</span><span class="o">.</span><span class="n">indentation</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span> <span class="o">+</span> <span class="mi">1</span> <span class="o">+</span> <span class="n">view</span><span class="o">.</span><span class="n">treePaddingLeft</span>
		<span class="n">cy</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">top</span><span class="p">()</span> <span class="o">+</span> <span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
		<span class="n">rect</span> <span class="o">=</span> <span class="n">QRect</span><span class="p">(</span><span class="n">cx</span> <span class="o">-</span> <span class="n">sizeHalf</span> <span class="o">-</span> <span class="n">view</span><span class="o">.</span><span class="n">branchArrowOffset</span><span class="p">,</span> <span class="n">cy</span> <span class="o">-</span> <span class="n">sizeHalf</span><span class="p">,</span> <span class="n">size</span><span class="p">,</span> <span class="n">size</span><span class="p">)</span>
		<span class="n">branchArrow</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">isExpanded</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="ow">and</span> <span class="n">view</span><span class="o">.</span><span class="n">branchOpened</span> <span class="ow">or</span> <span class="n">view</span><span class="o">.</span><span class="n">branchClosed</span>
		<span class="n">painter</span><span class="o">.</span><span class="n">drawPixmap</span><span class="p">(</span><span class="n">rect</span><span class="p">,</span> <span class="n">branchArrow</span><span class="p">)</span></div>

	<span class="c1">####################  UTILS  ####################</span>
	<span class="k">def</span> <span class="nf">_depth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
		<span class="n">depth</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="n">parent</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
		<span class="k">while</span> <span class="n">parent</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span>
			<span class="n">depth</span> <span class="o">+=</span> <span class="mi">1</span>
			<span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
		<span class="k">return</span> <span class="n">depth</span></div>


<div class="viewcode-block" id="PingAnimPhase"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.PingAnimPhase">[docs]</a><span class="k">class</span> <span class="nc">PingAnimPhase</span><span class="p">(</span><span class="n">Enum</span><span class="p">):</span>
<div class="viewcode-block" id="PingAnimPhase.ZoomIn"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.PingAnimPhase.ZoomIn">[docs]</a>	<span class="n">ZoomIn</span>  <span class="o">=</span> <span class="mi">0</span></div>
<div class="viewcode-block" id="PingAnimPhase.ZoomOut"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.PingAnimPhase.ZoomOut">[docs]</a>	<span class="n">ZoomOut</span> <span class="o">=</span> <span class="mi">2</span></div>
<div class="viewcode-block" id="PingAnimPhase.Idle"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.PingAnimPhase.Idle">[docs]</a>	<span class="n">Idle</span>    <span class="o">=</span> <span class="mi">3</span></div>
<div class="viewcode-block" id="PingAnimPhase.Fade"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.PingAnimPhase.Fade">[docs]</a>	<span class="n">Fade</span>    <span class="o">=</span> <span class="mi">4</span></div></div>

<div class="viewcode-block" id="TreeItemPingOverlay"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemPingOverlay">[docs]</a><span class="k">class</span> <span class="nc">TreeItemPingOverlay</span><span class="p">(</span><span class="n">QWidget</span><span class="p">):</span>
<div class="viewcode-block" id="TreeItemPingOverlay.InstanceList"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemPingOverlay.InstanceList">[docs]</a>	<span class="n">InstanceList</span> <span class="o">=</span> <span class="p">[]</span></div>

	<span class="nd">@Property</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<div class="viewcode-block" id="TreeItemPingOverlay.pingZoomDuration"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemPingOverlay.pingZoomDuration">[docs]</a>	<span class="k">def</span> <span class="nf">pingZoomDuration</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pingZoomDuration</span></div>
	<span class="nd">@pingZoomDuration</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">pingZoomDuration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_pingZoomDuration</span> <span class="o">=</span> <span class="n">value</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<div class="viewcode-block" id="TreeItemPingOverlay.pingIdleDuration"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemPingOverlay.pingIdleDuration">[docs]</a>	<span class="k">def</span> <span class="nf">pingIdleDuration</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pingIdleDuration</span></div>
	<span class="nd">@pingIdleDuration</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">pingIdleDuration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_pingIdleDuration</span> <span class="o">=</span> <span class="n">value</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<div class="viewcode-block" id="TreeItemPingOverlay.pingFadeDuration"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemPingOverlay.pingFadeDuration">[docs]</a>	<span class="k">def</span> <span class="nf">pingFadeDuration</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pingFadeDuration</span></div>
	<span class="nd">@pingFadeDuration</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">pingFadeDuration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_pingFadeDuration</span> <span class="o">=</span> <span class="n">value</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="nb">float</span><span class="p">)</span>
<div class="viewcode-block" id="TreeItemPingOverlay.pingZoomScale"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemPingOverlay.pingZoomScale">[docs]</a>	<span class="k">def</span> <span class="nf">pingZoomScale</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pingZoomScale</span></div>
	<span class="nd">@pingZoomScale</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">pingZoomScale</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_pingZoomScale</span> <span class="o">=</span> <span class="n">value</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<div class="viewcode-block" id="TreeItemPingOverlay.pingAnimTickInterval"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemPingOverlay.pingAnimTickInterval">[docs]</a>	<span class="k">def</span> <span class="nf">pingAnimTickInterval</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pingAnimTickInterval</span></div>
	<span class="nd">@pingAnimTickInterval</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">pingAnimTickInterval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_pingAnimTickInterval</span> <span class="o">=</span> <span class="n">value</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="n">QColor</span><span class="p">)</span>
<div class="viewcode-block" id="TreeItemPingOverlay.pingOutlineColor"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemPingOverlay.pingOutlineColor">[docs]</a>	<span class="k">def</span> <span class="nf">pingOutlineColor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pingOutlinePen</span><span class="o">.</span><span class="n">color</span><span class="p">()</span></div>
	<span class="nd">@pingOutlineColor</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">pingOutlineColor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_pingOutlinePen</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
	<span class="nd">@Property</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<div class="viewcode-block" id="TreeItemPingOverlay.pingOutlineWidth"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemPingOverlay.pingOutlineWidth">[docs]</a>	<span class="k">def</span> <span class="nf">pingOutlineWidth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pingOutlinePen</span><span class="o">.</span><span class="n">width</span><span class="p">()</span></div>
	<span class="nd">@pingOutlineWidth</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">pingOutlineWidth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_pingOutlinePen</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<div class="viewcode-block" id="TreeItemPingOverlay.pingOutlineRound"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemPingOverlay.pingOutlineRound">[docs]</a>	<span class="k">def</span> <span class="nf">pingOutlineRound</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pingOutlineRound</span></div>
	<span class="nd">@pingOutlineRound</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">pingOutlineRound</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_pingOutlineRound</span> <span class="o">=</span> <span class="n">value</span>

	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">treeview</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">treeview</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_pingZoomDuration</span> <span class="o">=</span> <span class="mi">100</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_pingIdleDuration</span> <span class="o">=</span> <span class="mi">2000</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_pingFadeDuration</span> <span class="o">=</span> <span class="mi">1000</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_pingZoomScale</span> <span class="o">=</span> <span class="mf">1.5</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_pingAnimTickInterval</span> <span class="o">=</span> <span class="mi">16</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_pingOutlinePen</span> <span class="o">=</span> <span class="n">QPen</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="s1">&#39;#D7C11B&#39;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_pingOutlineRound</span> <span class="o">=</span> <span class="mi">6</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TransparentForMouseEvents</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_TranslucentBackground</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setAttribute</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">WA_DeleteOnClose</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

		<span class="n">treeview</span><span class="o">.</span><span class="n">installEventFilter</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

<div class="viewcode-block" id="TreeItemPingOverlay.syncTreeViewRect"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemPingOverlay.syncTreeViewRect">[docs]</a>	<span class="k">def</span> <span class="nf">syncTreeViewRect</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">treeview</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
		<span class="n">viewport</span> <span class="o">=</span> <span class="n">treeview</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setGeometry</span><span class="p">(</span><span class="n">viewport</span><span class="o">.</span><span class="n">rect</span><span class="p">())</span></div>

<div class="viewcode-block" id="TreeItemPingOverlay.eventFilter"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemPingOverlay.eventFilter">[docs]</a>	<span class="k">def</span> <span class="nf">eventFilter</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">obj</span><span class="p">,</span> <span class="n">evt</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">evt</span><span class="o">.</span><span class="n">type</span><span class="p">()</span> <span class="o">==</span> <span class="n">QEvent</span><span class="o">.</span><span class="n">Resize</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">syncTreeViewRect</span><span class="p">()</span>
		<span class="k">return</span> <span class="kc">False</span></div>

<div class="viewcode-block" id="TreeItemPingOverlay.startPing"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemPingOverlay.startPing">[docs]</a>	<span class="k">def</span> <span class="nf">startPing</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">elapsed</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">index</span> <span class="o">=</span> <span class="n">index</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">PingAnimPhase</span><span class="o">.</span><span class="n">Idle</span>

		<span class="nb">list</span> <span class="o">=</span> <span class="n">TreeItemPingOverlay</span><span class="o">.</span><span class="n">InstanceList</span>
		<span class="n">instanceCount</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
		<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">instanceCount</span><span class="p">):</span>
			<span class="n">instance</span> <span class="o">=</span> <span class="nb">list</span><span class="p">[</span><span class="n">instanceCount</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
			<span class="k">if</span> <span class="p">(</span><span class="n">instance</span><span class="o">.</span><span class="n">index</span> <span class="o">==</span> <span class="n">index</span><span class="p">):</span> <span class="n">instance</span><span class="o">.</span><span class="n">stopPing</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">InstanceList</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">timer</span> <span class="o">=</span> <span class="n">QTimer</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">tickPingAnim</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pingAnimTickInterval</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">prevTickTime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">syncTreeViewRect</span><span class="p">()</span></div>

<div class="viewcode-block" id="TreeItemPingOverlay.stopPing"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemPingOverlay.stopPing">[docs]</a>	<span class="k">def</span> <span class="nf">stopPing</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">InstanceList</span><span class="o">.</span><span class="n">remove</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">timer</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span></div>

	<span class="nd">@staticmethod</span>
<div class="viewcode-block" id="TreeItemPingOverlay.stopAll"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemPingOverlay.stopAll">[docs]</a>	<span class="k">def</span> <span class="nf">stopAll</span><span class="p">():</span>
		<span class="nb">list</span> <span class="o">=</span> <span class="n">TreeItemPingOverlay</span><span class="o">.</span><span class="n">InstanceList</span>
		<span class="n">instanceCount</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="nb">list</span><span class="p">)</span>
		<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">instanceCount</span><span class="p">):</span>
			<span class="n">instance</span> <span class="o">=</span> <span class="nb">list</span><span class="p">[</span><span class="n">instanceCount</span> <span class="o">-</span> <span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">]</span>
			<span class="n">instance</span><span class="o">.</span><span class="n">stopPing</span><span class="p">()</span></div>

<div class="viewcode-block" id="TreeItemPingOverlay.tickPingAnim"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemPingOverlay.tickPingAnim">[docs]</a>	<span class="k">def</span> <span class="nf">tickPingAnim</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">curr</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
		<span class="n">delta</span> <span class="o">=</span> <span class="p">(</span><span class="n">curr</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">prevTickTime</span><span class="p">)</span> <span class="o">*</span> <span class="mi">1000</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">prevTickTime</span> <span class="o">=</span> <span class="n">curr</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">elapsed</span> <span class="o">+=</span> <span class="n">delta</span>
		
		<span class="n">zoomInDuration</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pingZoomDuration</span>
		<span class="n">zoomOutDuration</span> <span class="o">=</span> <span class="n">zoomInDuration</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pingZoomDuration</span>
		<span class="n">idleDuration</span> <span class="o">=</span> <span class="n">zoomInDuration</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pingIdleDuration</span>
		<span class="n">fadeDuration</span> <span class="o">=</span> <span class="n">idleDuration</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pingFadeDuration</span>

		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">elapsed</span> <span class="o">&lt;=</span> <span class="n">zoomInDuration</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">PingAnimPhase</span><span class="o">.</span><span class="n">ZoomIn</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">elapsed</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pingZoomDuration</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span>

		<span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">elapsed</span> <span class="o">&lt;=</span> <span class="n">zoomOutDuration</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">PingAnimPhase</span><span class="o">.</span><span class="n">ZoomOut</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">elapsed</span> <span class="o">-</span> <span class="n">zoomInDuration</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pingZoomDuration</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span>

		<span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">elapsed</span> <span class="o">&lt;=</span> <span class="n">idleDuration</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">PingAnimPhase</span><span class="o">.</span><span class="n">Idle</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span>

		<span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">elapsed</span> <span class="o">&lt;=</span> <span class="n">fadeDuration</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">=</span> <span class="n">PingAnimPhase</span><span class="o">.</span><span class="n">Fade</span>
			<span class="n">k</span> <span class="o">=</span> <span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">elapsed</span> <span class="o">-</span> <span class="n">idleDuration</span><span class="p">)</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pingFadeDuration</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">progress</span> <span class="o">=</span> <span class="n">easeOutQuad</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span>

		<span class="k">else</span><span class="p">:</span>
			<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">stopPing</span><span class="p">()</span></div>

<div class="viewcode-block" id="TreeItemPingOverlay.paintEvent"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeItemPingOverlay.paintEvent">[docs]</a>	<span class="k">def</span> <span class="nf">paintEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
		<span class="n">view</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
		<span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">index</span>

		<span class="n">rect</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">visualRect</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
		<span class="n">painter</span> <span class="o">=</span> <span class="n">QPainter</span><span class="p">()</span>
		<span class="n">painter</span><span class="o">.</span><span class="n">begin</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="n">painter</span><span class="o">.</span><span class="n">setRenderHints</span><span class="p">(</span><span class="n">QPainter</span><span class="o">.</span><span class="n">Antialiasing</span><span class="p">,</span> <span class="kc">True</span><span class="p">)</span>

		<span class="n">option</span> <span class="o">=</span> <span class="n">QStyleOption</span><span class="p">()</span>
		<span class="n">option</span><span class="o">.</span><span class="n">initFrom</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="n">fm</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="n">fontMetrics</span>
		<span class="n">tp</span><span class="p">,</span> <span class="n">ip</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">treePaddingLeft</span><span class="p">,</span> <span class="n">view</span><span class="o">.</span><span class="n">itemPaddingLeft</span>
		<span class="n">width</span> <span class="o">=</span> <span class="n">option</span><span class="o">.</span><span class="n">fontMetrics</span><span class="o">.</span><span class="n">boundingRect</span><span class="p">(</span><span class="n">index</span><span class="o">.</span><span class="n">data</span><span class="p">())</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">+</span> <span class="n">tp</span> <span class="o">*</span> <span class="mi">2</span>
		<span class="k">if</span> <span class="n">index</span><span class="o">.</span><span class="n">data</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">DecorationRole</span><span class="p">):</span> <span class="n">width</span> <span class="o">+=</span> <span class="n">view</span><span class="o">.</span><span class="n">indentation</span><span class="p">()</span> <span class="o">+</span> <span class="n">ip</span> <span class="o">+</span> <span class="nb">round</span><span class="p">((</span><span class="n">view</span><span class="o">.</span><span class="n">itemHeight</span> <span class="o">-</span> <span class="n">view</span><span class="o">.</span><span class="n">itemIconSize</span><span class="p">)</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
		<span class="n">rect</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">width</span><span class="p">)</span>

		<span class="n">zoom</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">PingAnimPhase</span><span class="o">.</span><span class="n">ZoomIn</span><span class="p">:</span>
			<span class="n">zoom</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">pingZoomScale</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="p">)</span>
		<span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">PingAnimPhase</span><span class="o">.</span><span class="n">ZoomOut</span><span class="p">:</span>
			<span class="n">zoom</span> <span class="o">=</span> <span class="n">lerp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">pingZoomScale</span><span class="p">,</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="p">)</span>
		<span class="k">elif</span> <span class="bp">self</span><span class="o">.</span><span class="n">state</span> <span class="o">==</span> <span class="n">PingAnimPhase</span><span class="o">.</span><span class="n">Fade</span><span class="p">:</span>
			<span class="n">painter</span><span class="o">.</span><span class="n">setOpacity</span><span class="p">(</span><span class="mi">1</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">progress</span><span class="p">)</span>

		<span class="k">if</span> <span class="n">zoom</span> <span class="o">!=</span> <span class="kc">None</span><span class="p">:</span>
			<span class="n">tx</span><span class="p">,</span> <span class="n">ty</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">+</span> <span class="n">width</span> <span class="o">/</span> <span class="mi">2</span><span class="p">,</span> <span class="n">rect</span><span class="o">.</span><span class="n">y</span><span class="p">()</span> <span class="o">+</span> <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span> <span class="o">/</span> <span class="mi">2</span>
			<span class="n">painter</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="n">tx</span><span class="p">,</span> <span class="n">ty</span><span class="p">)</span>
			<span class="n">painter</span><span class="o">.</span><span class="n">scale</span><span class="p">(</span><span class="n">zoom</span><span class="p">,</span> <span class="n">zoom</span><span class="p">)</span>
			<span class="n">painter</span><span class="o">.</span><span class="n">translate</span><span class="p">(</span><span class="o">-</span><span class="n">tx</span><span class="p">,</span> <span class="o">-</span><span class="n">ty</span><span class="p">)</span>

		<span class="n">pen</span> <span class="o">=</span> <span class="n">painter</span><span class="o">.</span><span class="n">pen</span><span class="p">()</span>
		<span class="n">alternate</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">_flatVisibleRowNumber</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">view</span><span class="o">.</span><span class="n">model</span><span class="p">())</span> <span class="o">%</span> <span class="mi">2</span>
		<span class="n">bgColor</span> <span class="o">=</span> <span class="n">alternate</span> <span class="ow">and</span> <span class="n">view</span><span class="o">.</span><span class="n">background</span> <span class="ow">or</span> <span class="n">view</span><span class="o">.</span><span class="n">backgroundAlternate</span>
		<span class="n">painter</span><span class="o">.</span><span class="n">setBrush</span><span class="p">(</span><span class="n">bgColor</span><span class="p">)</span>
		<span class="n">painter</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_pingOutlinePen</span><span class="p">)</span>
		<span class="n">painter</span><span class="o">.</span><span class="n">drawRoundedRect</span><span class="p">(</span><span class="n">rect</span><span class="o">.</span><span class="n">adjusted</span><span class="p">(</span><span class="o">-</span><span class="mi">12</span> <span class="o">+</span> <span class="n">tp</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">12</span> <span class="o">-</span> <span class="n">tp</span><span class="p">,</span> <span class="mi">0</span><span class="p">),</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pingOutlineRound</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pingOutlineRound</span><span class="p">)</span>

		<span class="n">painter</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="n">pen</span><span class="p">)</span>
		<span class="n">delegate</span> <span class="o">=</span> <span class="n">view</span><span class="o">.</span><span class="n">itemDelegate</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
		<span class="n">delegate</span><span class="o">.</span><span class="n">drawContent</span><span class="p">(</span><span class="n">painter</span><span class="p">,</span> <span class="n">rect</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>

		<span class="n">painter</span><span class="o">.</span><span class="n">end</span><span class="p">()</span></div></div>

<div class="viewcode-block" id="TreeView"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView">[docs]</a><span class="k">class</span> <span class="nc">TreeView</span><span class="p">(</span><span class="n">QTreeView</span><span class="p">):</span>
	<span class="nd">@Property</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.treePaddingLeft"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.treePaddingLeft">[docs]</a>	<span class="k">def</span> <span class="nf">treePaddingLeft</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_treePaddingLeft</span></div>
	<span class="nd">@treePaddingLeft</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">treePaddingLeft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_treePaddingLeft</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span> <span class="k">return</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_treePaddingLeft</span> <span class="o">=</span> <span class="n">value</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.itemPaddingLeft"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.itemPaddingLeft">[docs]</a>	<span class="k">def</span> <span class="nf">itemPaddingLeft</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_itemPaddingLeft</span></div>
	<span class="nd">@itemPaddingLeft</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">itemPaddingLeft</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_itemPaddingLeft</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span> <span class="k">return</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_itemPaddingLeft</span> <span class="o">=</span> <span class="n">value</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.itemIconSize"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.itemIconSize">[docs]</a>	<span class="k">def</span> <span class="nf">itemIconSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_itemIconSize</span></div>
	<span class="nd">@itemIconSize</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">itemIconSize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_itemIconSize</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span> <span class="k">return</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_itemIconSize</span> <span class="o">=</span> <span class="n">value</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.itemHeight"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.itemHeight">[docs]</a>	<span class="k">def</span> <span class="nf">itemHeight</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_itemHeight</span></div>
	<span class="nd">@itemHeight</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">itemHeight</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_itemHeight</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span> <span class="k">return</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_itemHeight</span> <span class="o">=</span> <span class="n">value</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.branchPixmapSize"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.branchPixmapSize">[docs]</a>	<span class="k">def</span> <span class="nf">branchPixmapSize</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_branchPixmapSize</span></div>
	<span class="nd">@branchPixmapSize</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">branchPixmapSize</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_branchPixmapSize</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span> <span class="k">return</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_branchPixmapSize</span> <span class="o">=</span> <span class="n">value</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.branchOpened"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.branchOpened">[docs]</a>	<span class="k">def</span> <span class="nf">branchOpened</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapBranchOpened</span></div>
	<span class="nd">@branchOpened</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">branchOpened</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapBranchOpened</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span> <span class="k">return</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_pixmapBranchOpened</span> <span class="o">=</span> <span class="n">value</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="n">QPixmap</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.branchClosed"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.branchClosed">[docs]</a>	<span class="k">def</span> <span class="nf">branchClosed</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapBranchClosed</span></div>
	<span class="nd">@branchClosed</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">branchClosed</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_pixmapBranchClosed</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span> <span class="k">return</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_pixmapBranchClosed</span> <span class="o">=</span> <span class="n">value</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.branchArrowOffset"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.branchArrowOffset">[docs]</a>	<span class="k">def</span> <span class="nf">branchArrowOffset</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_branchArrowOffset</span></div>
	<span class="nd">@branchArrowOffset</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">branchArrowOffset</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_branchArrowOffset</span> <span class="o">=</span> <span class="n">value</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.customAnimated"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.customAnimated">[docs]</a>	<span class="k">def</span> <span class="nf">customAnimated</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_customAnimated</span></div>
	<span class="nd">@customAnimated</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">customAnimated</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_customAnimated</span> <span class="o">=</span> <span class="n">value</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.customAnimDuration"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.customAnimDuration">[docs]</a>	<span class="k">def</span> <span class="nf">customAnimDuration</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_customAnimDuration</span></div>
	<span class="nd">@customAnimDuration</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">customAnimDuration</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_customAnimDuration</span> <span class="o">=</span> <span class="n">value</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.customAnimTickInterval"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.customAnimTickInterval">[docs]</a>	<span class="k">def</span> <span class="nf">customAnimTickInterval</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_customAnimTickInterval</span></div>
	<span class="nd">@customAnimTickInterval</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">customAnimTickInterval</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_customAnimTickInterval</span> <span class="o">=</span> <span class="n">value</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.dropIndicatorMargin"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.dropIndicatorMargin">[docs]</a>	<span class="k">def</span> <span class="nf">dropIndicatorMargin</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_dropIndicatorMargin</span></div>
	<span class="nd">@dropIndicatorMargin</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">dropIndicatorMargin</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_dropIndicatorMargin</span> <span class="o">=</span> <span class="n">value</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="n">QColor</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.dropIndicatorColor"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.dropIndicatorColor">[docs]</a>	<span class="k">def</span> <span class="nf">dropIndicatorColor</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_penDropIndicator</span><span class="o">.</span><span class="n">color</span><span class="p">()</span></div>
	<span class="nd">@dropIndicatorColor</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">dropIndicatorColor</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_penDropIndicator</span><span class="o">.</span><span class="n">color</span><span class="p">()</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span> <span class="k">return</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_penDropIndicator</span><span class="o">.</span><span class="n">setColor</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span>
	<span class="nd">@Property</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.dropIndicatorWidth"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.dropIndicatorWidth">[docs]</a>	<span class="k">def</span> <span class="nf">dropIndicatorWidth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_penDropIndicator</span><span class="o">.</span><span class="n">width</span><span class="p">()</span></div>
	<span class="nd">@dropIndicatorWidth</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">dropIndicatorWidth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_penDropIndicator</span><span class="o">.</span><span class="n">width</span><span class="p">()</span> <span class="o">==</span> <span class="n">value</span><span class="p">:</span> <span class="k">return</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_penDropIndicator</span><span class="o">.</span><span class="n">setWidth</span><span class="p">(</span><span class="n">value</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.drawBranchLine"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.drawBranchLine">[docs]</a>	<span class="k">def</span> <span class="nf">drawBranchLine</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_drawBranchLine</span></div>
	<span class="nd">@drawBranchLine</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">drawBranchLine</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_drawBranchLine</span> <span class="o">=</span> <span class="n">value</span>
	<span class="nd">@Property</span><span class="p">(</span><span class="nb">int</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.branchLineFilterDepth"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.branchLineFilterDepth">[docs]</a>	<span class="k">def</span> <span class="nf">branchLineFilterDepth</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_branchLineFilterDepth</span></div>
	<span class="nd">@branchLineFilterDepth</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">branchLineFilterDepth</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_branchLineFilterDepth</span> <span class="o">=</span> <span class="n">value</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="n">QColor</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.background"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.background">[docs]</a>	<span class="k">def</span> <span class="nf">background</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_background</span></div>
	<span class="nd">@background</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">background</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_background</span> <span class="o">=</span> <span class="n">value</span>
	<span class="nd">@Property</span><span class="p">(</span><span class="n">QColor</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.backgroundAlternate"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.backgroundAlternate">[docs]</a>	<span class="k">def</span> <span class="nf">backgroundAlternate</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backgroundAlternate</span></div>
	<span class="nd">@backgroundAlternate</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">backgroundAlternate</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_backgroundAlternate</span> <span class="o">=</span> <span class="n">value</span>
	<span class="nd">@Property</span><span class="p">(</span><span class="n">QColor</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.backgroundSelected"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.backgroundSelected">[docs]</a>	<span class="k">def</span> <span class="nf">backgroundSelected</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backgroundSelected</span></div>
	<span class="nd">@backgroundSelected</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">backgroundSelected</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_backgroundSelected</span> <span class="o">=</span> <span class="n">value</span>
	<span class="nd">@Property</span><span class="p">(</span><span class="n">QColor</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.backgroundSelectedUnfocused"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.backgroundSelectedUnfocused">[docs]</a>	<span class="k">def</span> <span class="nf">backgroundSelectedUnfocused</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backgroundSelectedUnfocused</span></div>
	<span class="nd">@backgroundSelectedUnfocused</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">backgroundSelectedUnfocused</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_backgroundSelectedUnfocused</span> <span class="o">=</span> <span class="n">value</span>
	<span class="nd">@Property</span><span class="p">(</span><span class="n">QColor</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.backgroundHovered"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.backgroundHovered">[docs]</a>	<span class="k">def</span> <span class="nf">backgroundHovered</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_backgroundHovered</span></div>
	<span class="nd">@backgroundHovered</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">backgroundHovered</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_backgroundHovered</span> <span class="o">=</span> <span class="n">value</span>

	<span class="nd">@Property</span><span class="p">(</span><span class="nb">bool</span><span class="p">)</span>
<div class="viewcode-block" id="TreeView.useAlternatingBackground"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.useAlternatingBackground">[docs]</a>	<span class="k">def</span> <span class="nf">useAlternatingBackground</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">_useAlternatingBackground</span></div>
	<span class="nd">@useAlternatingBackground</span><span class="o">.</span><span class="n">setter</span>
	<span class="k">def</span> <span class="nf">useAlternatingBackground</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_useAlternatingBackground</span> <span class="o">=</span> <span class="n">value</span>

	
	<span class="k">def</span> <span class="fm">__init__</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">parent</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="fm">__init__</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_treePaddingLeft</span> <span class="o">=</span> <span class="mi">2</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_itemPaddingLeft</span> <span class="o">=</span> <span class="mi">2</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_itemIconSize</span> <span class="o">=</span> <span class="mi">16</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_penDropIndicator</span> <span class="o">=</span> <span class="n">QPen</span><span class="p">(</span><span class="n">QColor</span><span class="p">(</span><span class="s1">&#39;#8af&#39;</span><span class="p">),</span> <span class="mi">2</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_branchPixmapSize</span> <span class="o">=</span> <span class="mi">12</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_pixmapBranchOpened</span> <span class="o">=</span> <span class="n">getThemePixmap</span><span class="p">(</span><span class="s1">&#39;arrow_down.png&#39;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_pixmapBranchClosed</span> <span class="o">=</span> <span class="n">getThemePixmap</span><span class="p">(</span><span class="s1">&#39;arrow_right.png&#39;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_branchArrowOffset</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_customAnimated</span> <span class="o">=</span> <span class="kc">True</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_customAnimDuration</span> <span class="o">=</span> <span class="mi">120</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_customAnimTickInterval</span> <span class="o">=</span> <span class="mi">16</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_dropIndicatorMargin</span> <span class="o">=</span> <span class="mi">5</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_itemHeight</span> <span class="o">=</span> <span class="mi">20</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_drawBranchLine</span> <span class="o">=</span> <span class="kc">True</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_branchLineFilterDepth</span> <span class="o">=</span> <span class="mi">1</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setIndentation</span><span class="p">(</span><span class="mi">20</span><span class="p">)</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">_background</span> <span class="o">=</span> <span class="n">QColor</span><span class="p">(</span><span class="s1">&#39;#404040&#39;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_backgroundAlternate</span> <span class="o">=</span> <span class="n">QColor</span><span class="p">(</span><span class="s1">&#39;#474747&#39;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_backgroundSelected</span> <span class="o">=</span> <span class="n">QColor</span><span class="p">(</span><span class="s1">&#39;#515c84&#39;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_backgroundSelectedUnfocused</span> <span class="o">=</span> <span class="n">QColor</span><span class="p">(</span><span class="s1">&#39;#6d7284&#39;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_backgroundHovered</span> <span class="o">=</span> <span class="n">QColor</span><span class="p">(</span><span class="s1">&#39;#454768&#39;</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">_useAlternatingBackground</span> <span class="o">=</span> <span class="kc">True</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">hoveredIndex</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">underAnimating</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">collapsingIndex</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">dropIndicatorRect</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">dropPosition</span> <span class="o">=</span> <span class="kc">None</span> <span class="c1"># -1 - before, 0 - inside, 1 - after</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">viewFocused</span> <span class="o">=</span> <span class="kc">None</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">autoExpandTimer</span> <span class="o">=</span> <span class="n">QTimer</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">autoExpandTimer</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">expandHovered</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">autoExpandTimer</span><span class="o">.</span><span class="n">setSingleShot</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
		
		<span class="bp">self</span><span class="o">.</span><span class="n">setMouseTracking</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setItemDelegate</span><span class="p">(</span><span class="n">TreeItemDelegate</span><span class="p">(</span><span class="bp">self</span><span class="p">))</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">setAnimated</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setHeaderHidden</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setAlternatingRowColors</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setExpandsOnDoubleClick</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setItemsExpandable</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">dropAccepted</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setDragEnabled</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setAcceptDrops</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setDragDropMode</span><span class="p">(</span><span class="n">QAbstractItemView</span><span class="o">.</span><span class="n">InternalMove</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setSelectionMode</span><span class="p">(</span><span class="n">QAbstractItemView</span><span class="o">.</span><span class="n">ExtendedSelection</span><span class="p">)</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">setEditTriggers</span><span class="p">(</span><span class="n">QAbstractItemView</span><span class="o">.</span><span class="n">SelectedClicked</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setHorizontalScrollBarPolicy</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">ScrollBarAlwaysOff</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setVerticalScrollBarPolicy</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">ScrollBarAsNeeded</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">setVerticalScrollMode</span><span class="p">(</span><span class="n">QAbstractItemView</span><span class="o">.</span><span class="n">ScrollPerPixel</span><span class="p">)</span>
		<span class="c1"># self.verticalScrollBar().setSingleStep(5)</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">verticalScrollBar</span><span class="p">()</span><span class="o">.</span><span class="n">valueChanged</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">onScrollerValueChange</span><span class="p">)</span>


	<span class="c1">#################  EVENTS  #################</span>
<div class="viewcode-block" id="TreeView.updateViewFocused"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.updateViewFocused">[docs]</a>	<span class="k">def</span> <span class="nf">updateViewFocused</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">focused</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">viewFocused</span> <span class="o">==</span> <span class="n">focused</span><span class="p">:</span> <span class="k">return</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">viewFocused</span> <span class="o">=</span> <span class="n">focused</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span></div>
<div class="viewcode-block" id="TreeView.focusInEvent"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.focusInEvent">[docs]</a>	<span class="k">def</span> <span class="nf">focusInEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evt</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">updateViewFocused</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span></div>
<div class="viewcode-block" id="TreeView.focusOutEvent"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.focusOutEvent">[docs]</a>	<span class="k">def</span> <span class="nf">focusOutEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evt</span><span class="p">):</span>
		<span class="c1"># to do: handle context menu</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">updateViewFocused</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span></div>

<div class="viewcode-block" id="TreeView.testClickBranchArrow"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.testClickBranchArrow">[docs]</a>	<span class="k">def</span> <span class="nf">testClickBranchArrow</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evt</span><span class="p">,</span> <span class="n">doubleClick</span><span class="p">):</span>
		<span class="c1"># if self.underAnimating: return True</span>
		<span class="n">pos</span> <span class="o">=</span> <span class="n">evt</span><span class="o">.</span><span class="n">pos</span><span class="p">()</span>
		<span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexAt</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">()</span><span class="o">.</span><span class="n">hasChildren</span><span class="p">(</span><span class="n">index</span><span class="p">):</span> <span class="k">return</span> <span class="kc">False</span>
		<span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">visualRect</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
		<span class="n">l</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">left</span><span class="p">(),</span> <span class="n">rect</span><span class="o">.</span><span class="n">top</span><span class="p">(),</span> <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
		<span class="n">indentation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indentation</span><span class="p">()</span>
		<span class="n">branchRect</span> <span class="o">=</span> <span class="n">QRect</span><span class="p">(</span><span class="n">l</span> <span class="o">-</span> <span class="n">indentation</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">treePaddingLeft</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">branchArrowOffset</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">indentation</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">branchRect</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span>
			<span class="n">recursive</span> <span class="o">=</span> <span class="n">evt</span><span class="o">.</span><span class="n">modifiers</span><span class="p">()</span> <span class="o">==</span> <span class="n">Qt</span><span class="o">.</span><span class="n">AltModifier</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">toggleExpand</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">recursive</span><span class="p">)</span>
			<span class="k">return</span> <span class="kc">True</span>

		<span class="k">if</span> <span class="n">pos</span><span class="o">.</span><span class="n">x</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">l</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">treePaddingLeft</span><span class="p">:</span>
			<span class="n">newPos</span> <span class="o">=</span> <span class="n">QPointF</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">pos</span><span class="o">.</span><span class="n">y</span><span class="p">())</span>
			<span class="n">newPosGlobal</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapToGlobal</span><span class="p">(</span><span class="n">newPos</span><span class="p">)</span>
			<span class="n">newEvt</span> <span class="o">=</span> <span class="n">QMouseEvent</span><span class="p">(</span><span class="n">evt</span><span class="o">.</span><span class="n">type</span><span class="p">(),</span> <span class="n">newPos</span><span class="p">,</span> <span class="n">newPosGlobal</span><span class="p">,</span> <span class="n">evt</span><span class="o">.</span><span class="n">button</span><span class="p">(),</span> <span class="n">evt</span><span class="o">.</span><span class="n">buttons</span><span class="p">(),</span> <span class="n">evt</span><span class="o">.</span><span class="n">modifiers</span><span class="p">())</span>
			<span class="k">if</span> <span class="n">doubleClick</span><span class="p">:</span>
				<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">mouseDoubleClickEvent</span><span class="p">(</span><span class="n">newEvt</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">mousePressEvent</span><span class="p">(</span><span class="n">newEvt</span><span class="p">)</span>
			<span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="TreeView.mousePressEvent"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.mousePressEvent">[docs]</a>	<span class="k">def</span> <span class="nf">mousePressEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evt</span><span class="p">):</span>
		<span class="n">TreeItemPingOverlay</span><span class="o">.</span><span class="n">stopAll</span><span class="p">()</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">testClickBranchArrow</span><span class="p">(</span><span class="n">evt</span><span class="p">,</span> <span class="kc">False</span><span class="p">):</span> <span class="k">return</span>
		<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">mousePressEvent</span><span class="p">(</span><span class="n">evt</span><span class="p">)</span></div>

<div class="viewcode-block" id="TreeView.mouseReleaseEvent"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.mouseReleaseEvent">[docs]</a>	<span class="k">def</span> <span class="nf">mouseReleaseEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evt</span><span class="p">):</span>
		<span class="n">pos</span> <span class="o">=</span> <span class="n">evt</span><span class="o">.</span><span class="n">pos</span><span class="p">()</span>
		<span class="n">index</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexAt</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
		<span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">visualRect</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
		<span class="n">l</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="n">rect</span><span class="o">.</span><span class="n">left</span><span class="p">(),</span> <span class="n">rect</span><span class="o">.</span><span class="n">top</span><span class="p">(),</span> <span class="n">rect</span><span class="o">.</span><span class="n">height</span><span class="p">()</span>
		<span class="n">indentation</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indentation</span><span class="p">()</span>
		<span class="n">branchRect</span> <span class="o">=</span> <span class="n">QRect</span><span class="p">(</span><span class="n">l</span> <span class="o">-</span> <span class="n">indentation</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">treePaddingLeft</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">indentation</span><span class="p">,</span> <span class="n">h</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">branchRect</span><span class="o">.</span><span class="n">contains</span><span class="p">(</span><span class="n">pos</span><span class="p">):</span> <span class="k">return</span>
		<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">mouseReleaseEvent</span><span class="p">(</span><span class="n">evt</span><span class="p">)</span></div>

<div class="viewcode-block" id="TreeView.mouseDoubleClickEvent"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.mouseDoubleClickEvent">[docs]</a>	<span class="k">def</span> <span class="nf">mouseDoubleClickEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evt</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">testClickBranchArrow</span><span class="p">(</span><span class="n">evt</span><span class="p">,</span> <span class="kc">True</span><span class="p">):</span> <span class="k">return</span>
		<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">mouseDoubleClickEvent</span><span class="p">(</span><span class="n">evt</span><span class="p">)</span></div>

<div class="viewcode-block" id="TreeView.mouseMoveEvent"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.mouseMoveEvent">[docs]</a>	<span class="k">def</span> <span class="nf">mouseMoveEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evt</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">updateHoveredIndex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">indexAt</span><span class="p">(</span><span class="n">evt</span><span class="o">.</span><span class="n">pos</span><span class="p">()))</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dragEnabled</span><span class="p">():</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">mouseMoveEvent</span><span class="p">(</span><span class="n">evt</span><span class="p">)</span></div>

<div class="viewcode-block" id="TreeView.leaveEvent"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.leaveEvent">[docs]</a>	<span class="k">def</span> <span class="nf">leaveEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evt</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">leaveEvent</span><span class="p">(</span><span class="n">evt</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">updateHoveredIndex</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TreeView.onScrollerValueChange"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.onScrollerValueChange">[docs]</a>	<span class="k">def</span> <span class="nf">onScrollerValueChange</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">value</span><span class="p">):</span>
		<span class="n">pos</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">mapFromGlobal</span><span class="p">(</span><span class="n">QCursor</span><span class="o">.</span><span class="n">pos</span><span class="p">())</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">updateHoveredIndex</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">indexAt</span><span class="p">(</span><span class="n">pos</span><span class="p">))</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">updateDropIndicatorRect</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span></div>

	<span class="k">def</span> <span class="nf">_getCollapsedParent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
		<span class="n">parents</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="n">parent</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
		<span class="k">while</span> <span class="n">parent</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span>
			<span class="n">parents</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
			<span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
		<span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">parents</span><span class="p">:</span>
			<span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">isExpanded</span><span class="p">(</span><span class="n">idx</span><span class="p">):</span>
				<span class="k">return</span> <span class="n">idx</span>
<div class="viewcode-block" id="TreeView.keyPressEvent"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.keyPressEvent">[docs]</a>	<span class="k">def</span> <span class="nf">keyPressEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evt</span><span class="p">):</span>
		<span class="n">key</span> <span class="o">=</span> <span class="n">evt</span><span class="o">.</span><span class="n">key</span><span class="p">()</span>
		<span class="n">mods</span> <span class="o">=</span> <span class="n">evt</span><span class="o">.</span><span class="n">modifiers</span><span class="p">()</span>
		<span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">Qt</span><span class="o">.</span><span class="n">Key_Right</span><span class="p">:</span>
			<span class="c1"># if self.underAnimating: return</span>
			<span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">()</span>
			<span class="n">curr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span>
			<span class="k">if</span> <span class="ow">not</span> <span class="n">curr</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span>
				<span class="n">curr</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">curr</span><span class="p">)</span>
				<span class="k">if</span> <span class="n">curr</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span>
					<span class="bp">self</span><span class="o">.</span><span class="n">toggleExpand</span><span class="p">(</span><span class="n">curr</span><span class="p">,</span> <span class="n">mods</span> <span class="o">&amp;</span> <span class="n">Qt</span><span class="o">.</span><span class="n">AltModifier</span><span class="p">)</span>
					<span class="bp">self</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">curr</span><span class="p">)</span>
				<span class="k">return</span>

			<span class="n">curr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span>
			<span class="n">cp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getCollapsedParent</span><span class="p">(</span><span class="n">curr</span><span class="p">)</span>
			<span class="k">if</span> <span class="n">cp</span><span class="p">:</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">cp</span><span class="p">)</span>
			<span class="k">if</span> <span class="ow">not</span> <span class="n">model</span><span class="o">.</span><span class="n">hasChildren</span><span class="p">(</span><span class="n">curr</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">isExpanded</span><span class="p">(</span><span class="n">curr</span><span class="p">):</span>
				<span class="k">while</span> <span class="kc">True</span><span class="p">:</span>
					<span class="n">curr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexBelow</span><span class="p">(</span><span class="n">curr</span><span class="p">)</span>
					<span class="k">if</span> <span class="ow">not</span> <span class="n">curr</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span> <span class="k">return</span>
					<span class="k">if</span> <span class="n">model</span><span class="o">.</span><span class="n">hasChildren</span><span class="p">(</span><span class="n">curr</span><span class="p">):</span>
						<span class="bp">self</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">curr</span><span class="p">)</span>
						<span class="k">return</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">toggleExpand</span><span class="p">(</span><span class="n">curr</span><span class="p">,</span> <span class="n">mods</span> <span class="o">&amp;</span> <span class="n">Qt</span><span class="o">.</span><span class="n">AltModifier</span><span class="p">)</span>

		<span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="n">Qt</span><span class="o">.</span><span class="n">Key_Left</span><span class="p">:</span>
			<span class="c1"># if self.underAnimating: return</span>
			<span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectedIndexes</span><span class="p">():</span> <span class="k">return</span> <span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">keyPressEvent</span><span class="p">(</span><span class="n">evt</span><span class="p">)</span>
			<span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">()</span>
			<span class="n">curr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span>
			<span class="n">cp</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getCollapsedParent</span><span class="p">(</span><span class="n">curr</span><span class="p">)</span>
			<span class="k">if</span> <span class="n">cp</span><span class="p">:</span> <span class="k">return</span> <span class="bp">self</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">cp</span><span class="p">)</span>
			<span class="k">if</span> <span class="ow">not</span> <span class="n">model</span><span class="o">.</span><span class="n">hasChildren</span><span class="p">(</span><span class="n">curr</span><span class="p">)</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">isExpanded</span><span class="p">(</span><span class="n">curr</span><span class="p">):</span>
				<span class="n">parent</span> <span class="o">=</span> <span class="n">curr</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
				<span class="k">if</span> <span class="n">parent</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span>
					<span class="bp">self</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
				<span class="k">else</span><span class="p">:</span>
					<span class="n">row</span> <span class="o">=</span> <span class="n">curr</span><span class="o">.</span><span class="n">row</span><span class="p">()</span>
					<span class="k">if</span> <span class="n">row</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">curr</span><span class="o">.</span><span class="n">siblingAtRow</span><span class="p">(</span><span class="n">row</span> <span class="o">-</span> <span class="mi">1</span><span class="p">))</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">toggleExpand</span><span class="p">(</span><span class="n">curr</span><span class="p">,</span> <span class="n">mods</span> <span class="o">&amp;</span> <span class="n">Qt</span><span class="o">.</span><span class="n">AltModifier</span><span class="p">)</span>
		
		<span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="n">Qt</span><span class="o">.</span><span class="n">Key_Delete</span> <span class="ow">or</span> <span class="p">(</span><span class="n">key</span> <span class="o">==</span> <span class="n">Qt</span><span class="o">.</span><span class="n">Key_Backspace</span> <span class="ow">and</span> <span class="n">mods</span> <span class="o">&amp;</span> <span class="n">Qt</span><span class="o">.</span><span class="n">ControlModifier</span><span class="p">):</span>
			<span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">()</span>
			<span class="n">selections</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectionModel</span><span class="p">()</span><span class="o">.</span><span class="n">selectedIndexes</span><span class="p">()</span>
			<span class="n">selections</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">cmp_to_key</span><span class="p">(</span><span class="k">lambda</span> <span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checkIsAboveOf</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">)</span> <span class="ow">and</span> <span class="mi">1</span> <span class="ow">or</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
			<span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="n">selections</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">removeRow</span><span class="p">(</span><span class="n">idx</span><span class="o">.</span><span class="n">row</span><span class="p">(),</span> <span class="n">idx</span><span class="o">.</span><span class="n">parent</span><span class="p">())</span>

		<span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="n">Qt</span><span class="o">.</span><span class="n">Key_Escape</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">selectionModel</span><span class="p">()</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

		<span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="n">Qt</span><span class="o">.</span><span class="n">Key_Space</span><span class="p">:</span>
			<span class="n">curr</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span>
			<span class="k">if</span> <span class="ow">not</span> <span class="n">curr</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span> <span class="k">return</span>
			<span class="n">overlay</span> <span class="o">=</span> <span class="n">TreeItemPingOverlay</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
			<span class="n">overlay</span><span class="o">.</span><span class="n">startPing</span><span class="p">(</span><span class="n">curr</span><span class="p">)</span>
			<span class="n">overlay</span><span class="o">.</span><span class="n">show</span><span class="p">()</span>

		<span class="k">else</span><span class="p">:</span>
			<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">keyPressEvent</span><span class="p">(</span><span class="n">evt</span><span class="p">)</span></div>

<div class="viewcode-block" id="TreeView.copySelection"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.copySelection">[docs]</a>	<span class="k">def</span> <span class="nf">copySelection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">()</span>
		<span class="n">selectionModel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectionModel</span><span class="p">()</span>
		<span class="n">selections</span> <span class="o">=</span> <span class="n">selectionModel</span><span class="o">.</span><span class="n">selectedIndexes</span><span class="p">()</span>
		<span class="n">selections</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">cmp_to_key</span><span class="p">(</span><span class="k">lambda</span> <span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checkIsAboveOf</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">)</span> <span class="ow">and</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">or</span> <span class="mi">1</span><span class="p">))</span>

		<span class="c1"># detect children and remove</span>
		<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">selections</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
			<span class="n">curr</span> <span class="o">=</span> <span class="n">selections</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
			<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
				<span class="n">test</span> <span class="o">=</span> <span class="n">selections</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
				<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checkIsChildOf</span><span class="p">(</span><span class="n">curr</span><span class="p">,</span> <span class="n">test</span><span class="p">):</span>
					<span class="k">del</span> <span class="n">selections</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
					<span class="k">break</span>

		<span class="n">clipboard</span> <span class="o">=</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">clipboard</span><span class="p">()</span>
		<span class="n">clipboard</span><span class="o">.</span><span class="n">setMimeData</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">mimeData</span><span class="p">(</span><span class="n">selections</span><span class="p">))</span></div>

<div class="viewcode-block" id="TreeView.pasteSelection"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.pasteSelection">[docs]</a>	<span class="k">def</span> <span class="nf">pasteSelection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">()</span>
		<span class="n">selectionModel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectionModel</span><span class="p">()</span>
		<span class="n">toSelections</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="n">parent</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">currentIndex</span><span class="p">()</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
		<span class="n">clipboard</span> <span class="o">=</span> <span class="n">QApplication</span><span class="o">.</span><span class="n">clipboard</span><span class="p">()</span>
		<span class="n">oldRowCount</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">rowCount</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
		<span class="n">model</span><span class="o">.</span><span class="n">dropMimeData</span><span class="p">(</span><span class="n">clipboard</span><span class="o">.</span><span class="n">mimeData</span><span class="p">(),</span> <span class="n">Qt</span><span class="o">.</span><span class="n">CopyAction</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
		<span class="n">newRowCount</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">rowCount</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span>
		<span class="n">dropedCount</span> <span class="o">=</span> <span class="n">newRowCount</span> <span class="o">-</span> <span class="n">oldRowCount</span>
		<span class="k">if</span> <span class="n">dropedCount</span> <span class="o">&gt;</span> <span class="mi">0</span><span class="p">:</span>
			<span class="n">selectionModel</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
			
			<span class="bp">self</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">newRowCount</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">parent</span><span class="p">))</span>
			<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">newRowCount</span> <span class="o">-</span> <span class="n">dropedCount</span><span class="p">,</span> <span class="n">newRowCount</span><span class="p">):</span>
				<span class="n">selection</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>
				<span class="n">selectionModel</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">selection</span><span class="p">,</span> <span class="n">QItemSelectionModel</span><span class="o">.</span><span class="n">Select</span><span class="p">)</span>

			<span class="k">while</span> <span class="n">parent</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">expandInstant</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
				<span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span></div>

		
<div class="viewcode-block" id="TreeView.duplicateSelection"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.duplicateSelection">[docs]</a>	<span class="k">def</span> <span class="nf">duplicateSelection</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">()</span>
		<span class="n">selectionModel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectionModel</span><span class="p">()</span>
		<span class="n">selections</span> <span class="o">=</span> <span class="n">selectionModel</span><span class="o">.</span><span class="n">selectedIndexes</span><span class="p">()</span>
		<span class="n">selections</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">cmp_to_key</span><span class="p">(</span><span class="k">lambda</span> <span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checkIsAboveOf</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">)</span> <span class="ow">and</span> <span class="o">-</span><span class="mi">1</span> <span class="ow">or</span> <span class="mi">1</span><span class="p">))</span>
		
		<span class="c1"># detect children and remove</span>
		<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">len</span><span class="p">(</span><span class="n">selections</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
			<span class="n">curr</span> <span class="o">=</span> <span class="n">selections</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
			<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">i</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">):</span>
				<span class="n">test</span> <span class="o">=</span> <span class="n">selections</span><span class="p">[</span><span class="n">j</span><span class="p">]</span>
				<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checkIsChildOf</span><span class="p">(</span><span class="n">curr</span><span class="p">,</span> <span class="n">test</span><span class="p">):</span>
					<span class="k">del</span> <span class="n">selections</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
					<span class="k">break</span>

		<span class="n">selectionModel</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>
		<span class="n">toSelections</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="k">for</span> <span class="n">selection</span> <span class="ow">in</span> <span class="n">selections</span><span class="p">:</span>
			<span class="n">parent</span> <span class="o">=</span> <span class="n">selection</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
			<span class="n">mimeData</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">mimeData</span><span class="p">([</span><span class="n">selection</span><span class="p">])</span>
			<span class="n">model</span><span class="o">.</span><span class="n">dropMimeData</span><span class="p">(</span><span class="n">mimeData</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">CopyAction</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">parent</span><span class="p">)</span>

			<span class="n">row</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">rowCount</span><span class="p">(</span><span class="n">parent</span><span class="p">)</span> <span class="o">-</span> <span class="mi">1</span>
			<span class="n">toSelections</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">parent</span><span class="p">))</span>

			<span class="k">while</span> <span class="n">parent</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">expandInstant</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>
				<span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">toSelections</span><span class="p">[</span><span class="o">-</span><span class="mi">1</span><span class="p">])</span>
		<span class="k">for</span> <span class="n">selection</span> <span class="ow">in</span> <span class="n">toSelections</span><span class="p">:</span>
			<span class="n">selectionModel</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">selection</span><span class="p">,</span> <span class="n">QItemSelectionModel</span><span class="o">.</span><span class="n">Select</span><span class="p">)</span></div>

<div class="viewcode-block" id="TreeView.event"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.event">[docs]</a>	<span class="k">def</span> <span class="nf">event</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evt</span><span class="p">):</span>
		<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">event</span><span class="p">(</span><span class="n">evt</span><span class="p">)</span>

		<span class="k">if</span> <span class="n">evt</span><span class="o">.</span><span class="n">type</span><span class="p">()</span> <span class="o">==</span> <span class="n">QEvent</span><span class="o">.</span><span class="n">ShortcutOverride</span><span class="p">:</span>
			<span class="n">key</span> <span class="o">=</span> <span class="n">evt</span><span class="o">.</span><span class="n">key</span><span class="p">()</span>
			<span class="n">mods</span> <span class="o">=</span> <span class="n">evt</span><span class="o">.</span><span class="n">modifiers</span><span class="p">()</span>

			<span class="k">if</span> <span class="n">key</span> <span class="o">==</span> <span class="n">Qt</span><span class="o">.</span><span class="n">Key_A</span> <span class="ow">and</span> <span class="n">mods</span> <span class="o">&amp;</span> <span class="n">Qt</span><span class="o">.</span><span class="n">ControlModifier</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">keyPressEvent</span><span class="p">(</span><span class="n">evt</span><span class="p">)</span>

			<span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="n">Qt</span><span class="o">.</span><span class="n">Key_C</span> <span class="ow">and</span> <span class="n">mods</span> <span class="o">&amp;</span> <span class="n">Qt</span><span class="o">.</span><span class="n">ControlModifier</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">copySelection</span><span class="p">()</span>
			<span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="n">Qt</span><span class="o">.</span><span class="n">Key_V</span> <span class="ow">and</span> <span class="n">mods</span> <span class="o">&amp;</span> <span class="n">Qt</span><span class="o">.</span><span class="n">ControlModifier</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">pasteSelection</span><span class="p">()</span>
			<span class="k">elif</span> <span class="n">key</span> <span class="o">==</span> <span class="n">Qt</span><span class="o">.</span><span class="n">Key_D</span> <span class="ow">and</span> <span class="n">mods</span> <span class="o">&amp;</span> <span class="n">Qt</span><span class="o">.</span><span class="n">ControlModifier</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">duplicateSelection</span><span class="p">()</span></div>


	<span class="c1">##################  DRAW  ##################</span>
<div class="viewcode-block" id="TreeView.paintEvent"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.paintEvent">[docs]</a>	<span class="k">def</span> <span class="nf">paintEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">event</span><span class="p">):</span>
		<span class="n">painter</span> <span class="o">=</span> <span class="n">QPainter</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">viewport</span><span class="p">())</span>
		<span class="n">painter</span><span class="o">.</span><span class="n">setClipping</span><span class="p">(</span><span class="kc">True</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">drawTree</span><span class="p">(</span><span class="n">painter</span><span class="p">,</span> <span class="n">event</span><span class="o">.</span><span class="n">region</span><span class="p">())</span>
		<span class="n">painter</span><span class="o">.</span><span class="n">setClipping</span><span class="p">(</span><span class="kc">False</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">drawDropIndicator</span><span class="p">(</span><span class="n">painter</span><span class="p">)</span></div>

<div class="viewcode-block" id="TreeView.drawBranches"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.drawBranches">[docs]</a>	<span class="k">def</span> <span class="nf">drawBranches</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">painter</span><span class="p">,</span> <span class="n">rect</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
		<span class="k">pass</span> <span class="c1"># skip default impl in QTreeView</span></div>

<div class="viewcode-block" id="TreeView.drawDropIndicator"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.drawDropIndicator">[docs]</a>	<span class="k">def</span> <span class="nf">drawDropIndicator</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">painter</span><span class="p">):</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dropAccepted</span><span class="p">:</span> <span class="k">return</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">dropIndicatorRect</span><span class="p">:</span> <span class="k">return</span>
		<span class="n">painter</span><span class="o">.</span><span class="n">setPen</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_penDropIndicator</span><span class="p">)</span>
		<span class="n">l</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dropIndicatorRect</span><span class="o">.</span><span class="n">left</span><span class="p">()</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">treePaddingLeft</span> <span class="o">+</span> <span class="mi">1</span> <span class="c1"># indicatorOffset</span>
		<span class="n">r</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dropIndicatorRect</span><span class="o">.</span><span class="n">right</span><span class="p">()</span>
		<span class="n">y</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dropIndicatorRect</span><span class="o">.</span><span class="n">top</span><span class="p">()</span>
		<span class="n">radius</span> <span class="o">=</span> <span class="mi">3</span>
		<span class="n">painter</span><span class="o">.</span><span class="n">drawEllipse</span><span class="p">(</span><span class="n">l</span><span class="o">-</span><span class="mi">2</span><span class="o">*</span><span class="n">radius</span><span class="p">,</span> <span class="n">y</span><span class="o">-</span><span class="n">radius</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">radius</span><span class="p">,</span> <span class="mi">2</span><span class="o">*</span><span class="n">radius</span><span class="p">)</span>
		<span class="n">painter</span><span class="o">.</span><span class="n">drawLine</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">y</span><span class="p">,</span> <span class="n">r</span><span class="p">,</span> <span class="n">y</span><span class="p">)</span></div>

<div class="viewcode-block" id="TreeView.updateHoveredIndex"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.updateHoveredIndex">[docs]</a>	<span class="k">def</span> <span class="nf">updateHoveredIndex</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new</span><span class="p">):</span>
		<span class="n">viewport</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span>
		<span class="n">old</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">hoveredIndex</span>
		<span class="k">if</span> <span class="n">new</span> <span class="o">!=</span> <span class="n">old</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">hoveredIndex</span> <span class="o">=</span> <span class="n">new</span>
			<span class="k">if</span> <span class="n">old</span><span class="p">:</span>
				<span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">visualRect</span><span class="p">(</span><span class="n">old</span><span class="p">)</span>
				<span class="n">rect</span><span class="o">.</span><span class="n">setLeft</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
				<span class="n">viewport</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">rect</span><span class="p">)</span>
			<span class="k">if</span> <span class="n">new</span><span class="p">:</span>
				<span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">visualRect</span><span class="p">(</span><span class="n">new</span><span class="p">)</span>
				<span class="n">rect</span><span class="o">.</span><span class="n">setLeft</span><span class="p">(</span><span class="mi">0</span><span class="p">)</span>
				<span class="n">viewport</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">rect</span><span class="p">)</span></div>

<div class="viewcode-block" id="TreeView.updateDropIndicatorRect"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.updateDropIndicatorRect">[docs]</a>	<span class="k">def</span> <span class="nf">updateDropIndicatorRect</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">new</span><span class="p">):</span>
		<span class="n">viewport</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">viewport</span><span class="p">()</span>
		<span class="n">old</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">dropIndicatorRect</span>
		<span class="k">if</span> <span class="n">new</span> <span class="o">!=</span> <span class="n">old</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">dropIndicatorRect</span> <span class="o">=</span> <span class="n">new</span>
			<span class="n">w</span><span class="p">,</span> <span class="n">h</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">(),</span> <span class="bp">self</span><span class="o">.</span><span class="n">itemHeight</span>
			<span class="k">if</span> <span class="n">old</span><span class="p">:</span>
				<span class="n">t</span> <span class="o">=</span> <span class="n">old</span><span class="o">.</span><span class="n">top</span><span class="p">()</span> <span class="o">-</span> <span class="nb">round</span><span class="p">(</span><span class="n">h</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
				<span class="n">viewport</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">QRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span>
			<span class="k">if</span> <span class="n">new</span><span class="p">:</span>
				<span class="n">t</span> <span class="o">=</span> <span class="n">new</span><span class="o">.</span><span class="n">top</span><span class="p">()</span> <span class="o">-</span> <span class="nb">round</span><span class="p">(</span><span class="n">h</span> <span class="o">/</span> <span class="mi">2</span><span class="p">)</span>
				<span class="n">viewport</span><span class="o">.</span><span class="n">update</span><span class="p">(</span><span class="n">QRect</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">w</span><span class="p">,</span> <span class="n">h</span><span class="p">))</span></div>


	<span class="c1">##################  DRAG  ##################</span>
<div class="viewcode-block" id="TreeView.startDrag"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.startDrag">[docs]</a>	<span class="k">def</span> <span class="nf">startDrag</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">supportedActions</span><span class="p">):</span>
		<span class="n">drag</span> <span class="o">=</span> <span class="n">QDrag</span><span class="p">(</span><span class="bp">self</span><span class="p">)</span>
		<span class="n">selections</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectedIndexes</span><span class="p">()</span>
		<span class="n">drag</span><span class="o">.</span><span class="n">setMimeData</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">()</span><span class="o">.</span><span class="n">mimeData</span><span class="p">(</span><span class="n">selections</span><span class="p">))</span>
		<span class="n">drag</span><span class="o">.</span><span class="n">exec</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">MoveAction</span><span class="p">)</span></div>

<div class="viewcode-block" id="TreeView.dragEnterEvent"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.dragEnterEvent">[docs]</a>	<span class="k">def</span> <span class="nf">dragEnterEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evt</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">dropAccepted</span> <span class="o">=</span> <span class="kc">True</span>
		<span class="n">evt</span><span class="o">.</span><span class="n">acceptProposedAction</span><span class="p">()</span></div>

<div class="viewcode-block" id="TreeView.dragLeaveEvent"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.dragLeaveEvent">[docs]</a>	<span class="k">def</span> <span class="nf">dragLeaveEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evt</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">updateDropIndicatorRect</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">updateHoveredIndex</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span></div>

<div class="viewcode-block" id="TreeView.checkDropable"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.checkDropable">[docs]</a>	<span class="k">def</span> <span class="nf">checkDropable</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">hovered</span><span class="p">,</span> <span class="n">source</span><span class="p">):</span>
		<span class="k">if</span> <span class="n">source</span> <span class="o">!=</span> <span class="bp">self</span><span class="p">:</span> <span class="k">return</span> <span class="kc">False</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">hovered</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span> <span class="k">return</span> <span class="kc">True</span>
		<span class="n">selectionModel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectionModel</span><span class="p">()</span>
		<span class="k">if</span> <span class="n">selectionModel</span><span class="o">.</span><span class="n">isSelected</span><span class="p">(</span><span class="n">hovered</span><span class="p">):</span> <span class="k">return</span> <span class="kc">False</span>
		<span class="k">for</span> <span class="n">select</span> <span class="ow">in</span> <span class="n">selectionModel</span><span class="o">.</span><span class="n">selectedIndexes</span><span class="p">():</span>
			<span class="c1"># todo: check root index</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checkIsChildOf</span><span class="p">(</span><span class="n">hovered</span><span class="p">,</span> <span class="n">select</span><span class="p">):</span> <span class="k">return</span> <span class="kc">False</span>
		<span class="k">return</span> <span class="kc">True</span></div>

<div class="viewcode-block" id="TreeView.dragMoveEvent"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.dragMoveEvent">[docs]</a>	<span class="k">def</span> <span class="nf">dragMoveEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evt</span><span class="p">):</span>
		<span class="n">pos</span> <span class="o">=</span> <span class="n">evt</span><span class="o">.</span><span class="n">pos</span><span class="p">()</span>
		<span class="n">hovered</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexAt</span><span class="p">(</span><span class="n">pos</span><span class="p">)</span>
		<span class="n">newDropIndicatorRect</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="k">if</span> <span class="n">hovered</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span>
			<span class="n">rect</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">visualRect</span><span class="p">(</span><span class="n">hovered</span><span class="p">)</span>
			<span class="n">y</span><span class="p">,</span> <span class="n">l</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="n">b</span> <span class="o">=</span> <span class="n">pos</span><span class="o">.</span><span class="n">y</span><span class="p">(),</span> <span class="n">rect</span><span class="o">.</span><span class="n">left</span><span class="p">(),</span> <span class="n">rect</span><span class="o">.</span><span class="n">top</span><span class="p">(),</span> <span class="n">rect</span><span class="o">.</span><span class="n">bottom</span><span class="p">()</span>
			<span class="k">if</span> <span class="n">y</span> <span class="o">-</span> <span class="n">t</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">dropIndicatorMargin</span><span class="p">:</span> <span class="c1"># and (y &gt; margin and not self.hoveredIndex.isRoot())</span>
				<span class="n">newDropIndicatorRect</span> <span class="o">=</span> <span class="n">QRect</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">t</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">-</span><span class="n">l</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">dropPosition</span> <span class="o">=</span> <span class="o">-</span><span class="mi">1</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">autoExpandTimer</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>

			<span class="k">elif</span> <span class="n">b</span> <span class="o">-</span> <span class="n">y</span> <span class="o">&lt;</span> <span class="bp">self</span><span class="o">.</span><span class="n">dropIndicatorMargin</span><span class="p">:</span>
				<span class="n">newDropIndicatorRect</span> <span class="o">=</span> <span class="n">QRect</span><span class="p">(</span><span class="n">l</span><span class="p">,</span> <span class="n">b</span> <span class="o">+</span> <span class="mi">1</span><span class="p">,</span> <span class="bp">self</span><span class="o">.</span><span class="n">width</span><span class="p">()</span><span class="o">-</span><span class="n">l</span><span class="p">,</span> <span class="mi">0</span><span class="p">)</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">dropPosition</span> <span class="o">=</span> <span class="mi">1</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">autoExpandTimer</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>

			<span class="k">else</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">autoExpandTimer</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="mi">400</span><span class="p">)</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">dropPosition</span> <span class="o">=</span> <span class="mi">0</span>

		<span class="n">src</span> <span class="o">=</span> <span class="n">evt</span><span class="o">.</span><span class="n">source</span><span class="p">()</span>
		<span class="n">dropable</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">checkDropable</span><span class="p">(</span><span class="n">hovered</span><span class="p">,</span> <span class="n">src</span><span class="p">)</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">dropAccepted</span> <span class="o">!=</span> <span class="n">dropable</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">dropAccepted</span> <span class="o">=</span> <span class="n">dropable</span>
			<span class="k">if</span> <span class="n">dropable</span><span class="p">:</span> <span class="n">evt</span><span class="o">.</span><span class="n">accept</span><span class="p">()</span>
			<span class="k">else</span><span class="p">:</span> <span class="n">evt</span><span class="o">.</span><span class="n">ignore</span><span class="p">()</span>

		<span class="k">if</span> <span class="ow">not</span> <span class="n">dropable</span><span class="p">:</span> <span class="n">newDropIndicatorRect</span> <span class="o">=</span> <span class="kc">None</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">updateDropIndicatorRect</span><span class="p">(</span><span class="n">newDropIndicatorRect</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">updateHoveredIndex</span><span class="p">(</span><span class="n">hovered</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">src</span> <span class="o">!=</span> <span class="bp">self</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">repaint</span><span class="p">()</span>
		<span class="nb">super</span><span class="p">()</span><span class="o">.</span><span class="n">dragMoveEvent</span><span class="p">(</span><span class="n">evt</span><span class="p">)</span></div>

<div class="viewcode-block" id="TreeView.dropEvent"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.dropEvent">[docs]</a>	<span class="k">def</span> <span class="nf">dropEvent</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">evt</span><span class="p">):</span>
		<span class="n">evt</span><span class="o">.</span><span class="n">acceptProposedAction</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">autoExpandTimer</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>

		<span class="n">idx</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">indexAt</span><span class="p">(</span><span class="n">evt</span><span class="o">.</span><span class="n">pos</span><span class="p">())</span>
		<span class="n">src</span> <span class="o">=</span> <span class="n">evt</span><span class="o">.</span><span class="n">source</span><span class="p">()</span>
		<span class="k">if</span> <span class="n">src</span> <span class="o">==</span> <span class="bp">self</span><span class="p">:</span>
			<span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">()</span>
			<span class="n">selectionModel</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectionModel</span><span class="p">()</span>
			<span class="n">selections</span> <span class="o">=</span> <span class="n">selectionModel</span><span class="o">.</span><span class="n">selectedIndexes</span><span class="p">()</span>
			<span class="n">selections</span><span class="o">.</span><span class="n">sort</span><span class="p">(</span><span class="n">key</span> <span class="o">=</span> <span class="n">functools</span><span class="o">.</span><span class="n">cmp_to_key</span><span class="p">(</span><span class="k">lambda</span> <span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checkIsAboveOf</span><span class="p">(</span><span class="n">e1</span><span class="p">,</span> <span class="n">e2</span><span class="p">)</span> <span class="ow">and</span> <span class="mi">1</span> <span class="ow">or</span> <span class="o">-</span><span class="mi">1</span><span class="p">))</span>
			<span class="n">selectionModel</span><span class="o">.</span><span class="n">clear</span><span class="p">()</span>

			<span class="n">dropInsertRow</span><span class="p">,</span> <span class="n">dropParent</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
			<span class="n">valid</span> <span class="o">=</span> <span class="n">idx</span><span class="o">.</span><span class="n">isValid</span><span class="p">()</span>
			<span class="k">if</span> <span class="n">valid</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">dropPosition</span> <span class="o">==</span> <span class="o">-</span><span class="mi">1</span><span class="p">:</span>
				<span class="n">dropInsertRow</span> <span class="o">=</span> <span class="n">idx</span><span class="o">.</span><span class="n">row</span><span class="p">()</span>
				<span class="n">dropParent</span> <span class="o">=</span> <span class="n">idx</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
			<span class="k">elif</span> <span class="n">valid</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">dropPosition</span> <span class="o">==</span> <span class="mi">1</span><span class="p">:</span>
				<span class="n">dropInsertRow</span> <span class="o">=</span> <span class="n">idx</span><span class="o">.</span><span class="n">row</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span>
				<span class="n">dropParent</span> <span class="o">=</span> <span class="n">idx</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">dropInsertRow</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">rowCount</span><span class="p">(</span><span class="n">idx</span><span class="p">)</span>
				<span class="n">dropParent</span> <span class="o">=</span> <span class="n">idx</span>

			<span class="n">delayRemoves</span> <span class="o">=</span> <span class="p">[</span><span class="n">selection</span> <span class="k">for</span> <span class="n">selection</span> <span class="ow">in</span> <span class="n">selections</span> <span class="k">if</span> <span class="n">selection</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span> <span class="o">==</span> <span class="n">dropParent</span> <span class="ow">and</span> <span class="n">selection</span><span class="o">.</span><span class="n">row</span><span class="p">()</span> <span class="o">&lt;</span> <span class="n">dropInsertRow</span><span class="p">]</span>
			<span class="k">for</span> <span class="n">selection</span> <span class="ow">in</span> <span class="n">selections</span><span class="p">:</span>
				<span class="n">mimeData</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">mimeData</span><span class="p">([</span><span class="n">selection</span><span class="p">])</span>
				<span class="k">if</span> <span class="n">selection</span> <span class="ow">not</span> <span class="ow">in</span> <span class="n">delayRemoves</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">removeRow</span><span class="p">(</span><span class="n">selection</span><span class="o">.</span><span class="n">row</span><span class="p">(),</span> <span class="n">selection</span><span class="o">.</span><span class="n">parent</span><span class="p">())</span>
				<span class="n">model</span><span class="o">.</span><span class="n">dropMimeData</span><span class="p">(</span><span class="n">mimeData</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">CopyAction</span><span class="p">,</span> <span class="n">dropInsertRow</span><span class="p">,</span> <span class="o">-</span><span class="mi">1</span><span class="p">,</span> <span class="n">dropParent</span><span class="p">)</span>

			<span class="n">dropCount</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">selections</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">setCurrentIndex</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">dropInsertRow</span> <span class="o">+</span> <span class="n">dropCount</span> <span class="o">-</span> <span class="mi">1</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">dropParent</span><span class="p">))</span>
			<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">dropInsertRow</span><span class="p">,</span> <span class="n">dropInsertRow</span> <span class="o">+</span> <span class="n">dropCount</span><span class="p">):</span> <span class="n">selectionModel</span><span class="o">.</span><span class="n">select</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">i</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">dropParent</span><span class="p">),</span> <span class="n">QItemSelectionModel</span><span class="o">.</span><span class="n">Select</span><span class="p">)</span>
			
			<span class="k">for</span> <span class="n">index</span> <span class="ow">in</span> <span class="n">delayRemoves</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">removeRow</span><span class="p">(</span><span class="n">index</span><span class="o">.</span><span class="n">row</span><span class="p">(),</span> <span class="n">index</span><span class="o">.</span><span class="n">parent</span><span class="p">())</span>
			<span class="k">if</span> <span class="n">valid</span> <span class="ow">and</span> <span class="bp">self</span><span class="o">.</span><span class="n">dropPosition</span> <span class="o">==</span> <span class="mi">0</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">expandInstant</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span>

			<span class="n">evt</span><span class="o">.</span><span class="n">acceptProposedAction</span><span class="p">()</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">evt</span><span class="o">.</span><span class="n">ignore</span><span class="p">()</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">updateDropIndicatorRect</span><span class="p">(</span><span class="kc">None</span><span class="p">)</span></div>


	<span class="c1">################  ANIMATING  ################</span>
<div class="viewcode-block" id="TreeView.toggleExpand"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.toggleExpand">[docs]</a>	<span class="k">def</span> <span class="nf">toggleExpand</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">recursive</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isExpanded</span><span class="p">(</span><span class="n">index</span><span class="p">):</span>
			<span class="k">def</span> <span class="nf">_collapse</span><span class="p">():</span>
				<span class="k">if</span> <span class="n">recursive</span><span class="p">:</span>
					<span class="bp">self</span><span class="o">.</span><span class="n">_collapseRecursively</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
				<span class="k">else</span><span class="p">:</span>
					<span class="bp">self</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">customAnimated</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">_playExpandAnim</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="kc">True</span><span class="p">,</span> <span class="n">recursive</span><span class="p">,</span> <span class="n">_collapse</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="n">_collapse</span><span class="p">()</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">if</span> <span class="n">recursive</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">expandRecursively</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
			<span class="k">else</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">customAnimated</span><span class="p">:</span> <span class="bp">self</span><span class="o">.</span><span class="n">_playExpandAnim</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="kc">False</span><span class="p">,</span> <span class="n">recursive</span><span class="p">)</span></div>

<div class="viewcode-block" id="TreeView.expandInstant"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.expandInstant">[docs]</a>	<span class="k">def</span> <span class="nf">expandInstant</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">recursive</span><span class="p">):</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isExpanded</span><span class="p">(</span><span class="n">index</span><span class="p">):</span> <span class="k">return</span>
		<span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">()</span>
		<span class="n">height</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">itemHeight</span>
		<span class="nb">list</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_animChildrenList</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">recursive</span><span class="p">)</span>
		<span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="nb">list</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">height</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">SizeHintRole</span><span class="p">)</span>
		<span class="k">if</span> <span class="n">recursive</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">expandRecursively</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">expand</span><span class="p">(</span><span class="n">index</span><span class="p">)</span></div>

	<span class="k">def</span> <span class="nf">_collapseRecursively</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">collapse</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
		<span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">()</span>
		<span class="n">count</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">rowCount</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
		<span class="k">for</span> <span class="n">r</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">):</span> <span class="bp">self</span><span class="o">.</span><span class="n">_collapseRecursively</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">r</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">index</span><span class="p">))</span>
	<span class="k">def</span> <span class="nf">_animChildrenList</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">includeHidden</span><span class="p">):</span>
		<span class="nb">list</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">()</span>
		<span class="n">count</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">rowCount</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
		<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">):</span>
			<span class="n">child</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">index</span><span class="p">)</span>
			<span class="nb">list</span><span class="o">.</span><span class="n">append</span><span class="p">(</span><span class="n">child</span><span class="p">)</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isExpanded</span><span class="p">(</span><span class="n">child</span><span class="p">)</span> <span class="ow">or</span> <span class="n">includeHidden</span><span class="p">:</span>
				<span class="nb">list</span><span class="o">.</span><span class="n">extend</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_animChildrenList</span><span class="p">(</span><span class="n">child</span><span class="p">,</span> <span class="n">includeHidden</span><span class="p">))</span>
			<span class="c1"># if model.hasChildren(child): list.extend(self._animChildrenList)</span>
		<span class="k">return</span> <span class="nb">list</span>
	<span class="k">def</span> <span class="nf">_playExpandAnim</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">collapse</span><span class="p">,</span> <span class="n">recursive</span><span class="p">,</span> <span class="n">onFinish</span> <span class="o">=</span> <span class="kc">None</span><span class="p">):</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">underAnimating</span> <span class="o">=</span> <span class="kc">True</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">animElapsed</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">prevIdxStop</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">reverseExpanding</span> <span class="o">=</span> <span class="n">collapse</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">animIdxList</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_animChildrenList</span><span class="p">(</span><span class="n">index</span><span class="p">,</span> <span class="n">recursive</span> <span class="ow">and</span> <span class="ow">not</span> <span class="n">collapse</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">onAnimFinish</span> <span class="o">=</span> <span class="n">onFinish</span>
		<span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">()</span>
		<span class="n">initHeight</span> <span class="o">=</span> <span class="mi">0</span>
		<span class="k">if</span> <span class="n">collapse</span><span class="p">:</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">collapsingIndex</span> <span class="o">=</span> <span class="n">index</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">animIdxList</span><span class="o">.</span><span class="n">reverse</span><span class="p">()</span>
			<span class="n">initHeight</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">itemHeight</span>
		<span class="k">for</span> <span class="n">idx</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">animIdxList</span><span class="p">:</span> <span class="n">model</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">idx</span><span class="p">,</span> <span class="n">initHeight</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">SizeHintRole</span><span class="p">)</span>

		<span class="bp">self</span><span class="o">.</span><span class="n">animTimer</span> <span class="o">=</span> <span class="n">QTimer</span><span class="p">()</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">animTimer</span><span class="o">.</span><span class="n">timeout</span><span class="o">.</span><span class="n">connect</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_tickExpanding</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">animTimer</span><span class="o">.</span><span class="n">start</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">_customAnimTickInterval</span><span class="p">)</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">prevTickTime</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>

	<span class="k">def</span> <span class="nf">_tickExpanding</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="n">curr</span> <span class="o">=</span> <span class="n">time</span><span class="o">.</span><span class="n">time</span><span class="p">()</span>
		<span class="n">delta</span> <span class="o">=</span> <span class="p">(</span><span class="n">curr</span> <span class="o">-</span> <span class="bp">self</span><span class="o">.</span><span class="n">prevTickTime</span><span class="p">)</span> <span class="o">*</span> <span class="mi">1000</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">prevTickTime</span> <span class="o">=</span> <span class="n">curr</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">animElapsed</span> <span class="o">+=</span> <span class="n">delta</span>

		<span class="n">k</span> <span class="o">=</span> <span class="n">clamp</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">animElapsed</span> <span class="o">/</span> <span class="bp">self</span><span class="o">.</span><span class="n">customAnimDuration</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="mi">1</span><span class="p">)</span>
		<span class="n">progress</span> <span class="o">=</span> <span class="n">easeInOutQuad</span><span class="p">(</span><span class="n">k</span><span class="p">)</span>
		<span class="n">idxProgress</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">animIdxList</span><span class="p">)</span> <span class="o">*</span> <span class="n">progress</span>
		<span class="n">idxStop</span> <span class="o">=</span> <span class="n">floor</span><span class="p">(</span><span class="n">idxProgress</span><span class="p">)</span>
		
		<span class="n">resetHeight</span><span class="p">,</span> <span class="n">currHeight</span> <span class="o">=</span> <span class="kc">None</span><span class="p">,</span> <span class="kc">None</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">reverseExpanding</span><span class="p">:</span>
			<span class="n">resetHeight</span><span class="p">,</span> <span class="n">currHeight</span> <span class="o">=</span> <span class="mi">0</span><span class="p">,</span> <span class="nb">round</span><span class="p">((</span><span class="mi">1</span> <span class="o">-</span> <span class="n">idxProgress</span> <span class="o">+</span> <span class="n">idxStop</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">itemHeight</span><span class="p">)</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="n">resetHeight</span><span class="p">,</span> <span class="n">currHeight</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">itemHeight</span><span class="p">,</span> <span class="nb">round</span><span class="p">((</span><span class="n">idxProgress</span> <span class="o">-</span> <span class="n">idxStop</span><span class="p">)</span> <span class="o">*</span> <span class="bp">self</span><span class="o">.</span><span class="n">itemHeight</span><span class="p">)</span>

		<span class="n">model</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">()</span>
		<span class="k">if</span> <span class="n">progress</span> <span class="o">&lt;</span> <span class="mi">1</span><span class="p">:</span>
			<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prevIdxStop</span><span class="p">,</span> <span class="n">idxStop</span><span class="p">):</span> <span class="n">model</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">animIdxList</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="n">resetHeight</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">SizeHintRole</span><span class="p">)</span>
			<span class="n">model</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">animIdxList</span><span class="p">[</span><span class="n">idxStop</span><span class="p">],</span> <span class="n">currHeight</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">SizeHintRole</span><span class="p">)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">prevIdxStop</span> <span class="o">=</span> <span class="n">idxStop</span>
			<span class="c1"># model.dataChanged.emit(self.animIdxList[self.prevIdxStop], self.animIdxList[self.idxStop], [Qt.SizeHintRole])</span>
		<span class="k">else</span><span class="p">:</span>
			<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">prevIdxStop</span><span class="p">,</span> <span class="nb">len</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">animIdxList</span><span class="p">)):</span> <span class="n">model</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">animIdxList</span><span class="p">[</span><span class="n">i</span><span class="p">],</span> <span class="bp">self</span><span class="o">.</span><span class="n">itemHeight</span><span class="p">,</span> <span class="n">Qt</span><span class="o">.</span><span class="n">SizeHintRole</span><span class="p">)</span>
			<span class="c1"># model.setData(self.animIdxList[-1], self.itemHeight, Qt.SizeHintRole)</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">underAnimating</span> <span class="o">=</span> <span class="kc">False</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">animTimer</span><span class="o">.</span><span class="n">stop</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">animTimer</span><span class="o">.</span><span class="n">deleteLater</span><span class="p">()</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">animElapsed</span> <span class="o">=</span> <span class="kc">None</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">animIdxList</span> <span class="o">=</span> <span class="kc">None</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">prevIdxStop</span> <span class="o">=</span> <span class="kc">None</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">prevTickTime</span> <span class="o">=</span> <span class="kc">None</span>
			<span class="bp">self</span><span class="o">.</span><span class="n">collapsingIndex</span> <span class="o">=</span> <span class="kc">None</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">onAnimFinish</span><span class="p">:</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">onAnimFinish</span><span class="p">()</span>
				<span class="bp">self</span><span class="o">.</span><span class="n">onAnimFinish</span> <span class="o">=</span> <span class="kc">None</span>

<div class="viewcode-block" id="TreeView.expandHovered"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.expandHovered">[docs]</a>	<span class="k">def</span> <span class="nf">expandHovered</span><span class="p">(</span><span class="bp">self</span><span class="p">):</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hoveredIndex</span> <span class="ow">or</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">hoveredIndex</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span> <span class="k">return</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">model</span><span class="p">()</span><span class="o">.</span><span class="n">hasChildren</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hoveredIndex</span><span class="p">):</span> <span class="k">return</span>
		<span class="k">for</span> <span class="n">selection</span> <span class="ow">in</span> <span class="bp">self</span><span class="o">.</span><span class="n">selectedIndexes</span><span class="p">():</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">hoveredIndex</span> <span class="o">==</span> <span class="n">selection</span><span class="p">:</span> <span class="k">return</span>
			<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">_checkIsChildOf</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hoveredIndex</span><span class="p">,</span> <span class="n">selection</span><span class="p">):</span> <span class="k">return</span>
		<span class="k">if</span> <span class="bp">self</span><span class="o">.</span><span class="n">isExpanded</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hoveredIndex</span><span class="p">):</span> <span class="k">return</span>
		<span class="bp">self</span><span class="o">.</span><span class="n">toggleExpand</span><span class="p">(</span><span class="bp">self</span><span class="o">.</span><span class="n">hoveredIndex</span><span class="p">,</span> <span class="kc">False</span><span class="p">)</span></div>
		<span class="c1"># self.expandInstant(self.hoveredIndex, False)</span>

<div class="viewcode-block" id="TreeView.pingItem"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.TreeView.pingItem">[docs]</a>	<span class="k">def</span> <span class="nf">pingItem</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
		<span class="k">pass</span></div>


	<span class="c1">####################  UTILS  ####################</span>
	<span class="k">def</span> <span class="nf">_rowCountRecursive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">model</span><span class="p">):</span>
		<span class="n">count</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">rowCount</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
		<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">):</span> <span class="n">count</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rowCountRecursive</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">index</span><span class="p">),</span> <span class="n">model</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">count</span>
	<span class="k">def</span> <span class="nf">_flatRowNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">model</span><span class="p">):</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">index</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
		<span class="n">result</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">row</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span>
		<span class="n">parent</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
		<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">result</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span> <span class="n">result</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_rowCountRecursive</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">parent</span><span class="p">),</span> <span class="n">model</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">result</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flatRowNumber</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>

	<span class="k">def</span> <span class="nf">_visibleRowCountRecursive</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">model</span><span class="p">):</span>
		<span class="n">count</span> <span class="o">=</span> <span class="n">model</span><span class="o">.</span><span class="n">rowCount</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="bp">self</span><span class="o">.</span><span class="n">isExpanded</span><span class="p">(</span><span class="n">index</span><span class="p">)</span> <span class="ow">or</span> <span class="bp">self</span><span class="o">.</span><span class="n">collapsingIndex</span> <span class="o">==</span> <span class="n">index</span><span class="p">:</span> <span class="k">return</span> <span class="mi">0</span>
		<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">count</span><span class="p">):</span> <span class="n">count</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_visibleRowCountRecursive</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">index</span><span class="p">),</span> <span class="n">model</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">count</span>
	<span class="k">def</span> <span class="nf">_flatVisibleRowNumber</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">model</span><span class="p">):</span>
		<span class="k">if</span> <span class="ow">not</span> <span class="n">index</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span> <span class="k">return</span> <span class="o">-</span><span class="mi">1</span>
		<span class="n">result</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">row</span><span class="p">()</span> <span class="o">+</span> <span class="mi">1</span>
		<span class="n">parent</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
		<span class="k">for</span> <span class="n">row</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="n">result</span> <span class="o">-</span> <span class="mi">1</span><span class="p">):</span> <span class="n">result</span> <span class="o">+=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_visibleRowCountRecursive</span><span class="p">(</span><span class="n">model</span><span class="o">.</span><span class="n">index</span><span class="p">(</span><span class="n">row</span><span class="p">,</span> <span class="mi">0</span><span class="p">,</span> <span class="n">parent</span><span class="p">),</span> <span class="n">model</span><span class="p">)</span>
		<span class="k">return</span> <span class="n">result</span> <span class="o">+</span> <span class="bp">self</span><span class="o">.</span><span class="n">_flatVisibleRowNumber</span><span class="p">(</span><span class="n">parent</span><span class="p">,</span> <span class="n">model</span><span class="p">)</span>

	<span class="k">def</span> <span class="nf">_checkIsChildOf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">test</span><span class="p">):</span>
		<span class="n">parent</span> <span class="o">=</span> <span class="n">index</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
		<span class="k">while</span> <span class="n">parent</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span>
			<span class="k">if</span> <span class="n">parent</span> <span class="o">==</span> <span class="n">test</span><span class="p">:</span> <span class="k">return</span> <span class="kc">True</span>
			<span class="n">parent</span> <span class="o">=</span> <span class="n">parent</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
		<span class="k">return</span> <span class="kc">False</span>

	<span class="k">def</span> <span class="nf">_checkIsAboveOf</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">,</span> <span class="n">test</span><span class="p">):</span>
		<span class="n">seq1</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getRowSequence</span><span class="p">(</span><span class="n">index</span><span class="p">)</span>
		<span class="n">seq2</span> <span class="o">=</span> <span class="bp">self</span><span class="o">.</span><span class="n">_getRowSequence</span><span class="p">(</span><span class="n">test</span><span class="p">)</span>
		<span class="n">len1</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">seq1</span><span class="p">)</span>
		<span class="n">len2</span> <span class="o">=</span> <span class="nb">len</span><span class="p">(</span><span class="n">seq2</span><span class="p">)</span>
		<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="nb">min</span><span class="p">(</span><span class="n">len1</span><span class="p">,</span> <span class="n">len2</span><span class="p">)):</span>
			<span class="n">row1</span> <span class="o">=</span> <span class="n">seq1</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
			<span class="n">row2</span> <span class="o">=</span> <span class="n">seq2</span><span class="p">[</span><span class="n">i</span><span class="p">]</span>
			<span class="k">if</span> <span class="n">row1</span> <span class="o">&lt;</span> <span class="n">row2</span><span class="p">:</span> <span class="k">return</span> <span class="kc">True</span>
			<span class="k">if</span> <span class="n">row1</span> <span class="o">&gt;</span> <span class="n">row2</span><span class="p">:</span> <span class="k">return</span> <span class="kc">False</span>
		<span class="k">return</span> <span class="n">len1</span> <span class="o">&lt;</span> <span class="n">len2</span>

	<span class="k">def</span> <span class="nf">_getRowSequence</span><span class="p">(</span><span class="bp">self</span><span class="p">,</span> <span class="n">index</span><span class="p">):</span>
		<span class="n">seq</span> <span class="o">=</span> <span class="p">[]</span>
		<span class="n">curr</span> <span class="o">=</span> <span class="n">index</span>
		<span class="k">while</span> <span class="n">curr</span><span class="o">.</span><span class="n">isValid</span><span class="p">():</span>
			<span class="n">seq</span><span class="o">.</span><span class="n">insert</span><span class="p">(</span><span class="mi">0</span><span class="p">,</span> <span class="n">curr</span><span class="o">.</span><span class="n">row</span><span class="p">())</span>
			<span class="n">curr</span> <span class="o">=</span> <span class="n">curr</span><span class="o">.</span><span class="n">parent</span><span class="p">()</span>
		<span class="k">return</span> <span class="n">seq</span></div>

<div class="viewcode-block" id="runTreeDemo"><a class="viewcode-back" href="../../../../autoapi/editor/widgets/complex/tree_view/index.html#editor.widgets.complex.tree_view.runTreeDemo">[docs]</a><span class="k">def</span> <span class="nf">runTreeDemo</span><span class="p">():</span>
	<span class="n">view</span> <span class="o">=</span> <span class="n">TreeView</span><span class="p">()</span>
	<span class="n">view</span><span class="o">.</span><span class="n">setWindowFlags</span><span class="p">(</span><span class="n">Qt</span><span class="o">.</span><span class="n">Window</span><span class="p">)</span>
	<span class="n">model</span> <span class="o">=</span> <span class="n">QStandardItemModel</span><span class="p">()</span>
	<span class="k">for</span> <span class="n">i</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">5</span><span class="p">):</span>
		<span class="n">n</span> <span class="o">=</span> <span class="n">QStandardItem</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Item_</span><span class="si">{</span><span class="n">i</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
		<span class="n">n</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">getThemePixmap</span><span class="p">(</span><span class="s1">&#39;entity.png&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">scaled</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span> <span class="n">Qt</span><span class="o">.</span><span class="n">DecorationRole</span><span class="p">)</span>
		<span class="n">model</span><span class="o">.</span><span class="n">appendRow</span><span class="p">(</span><span class="n">n</span><span class="p">)</span>
		<span class="k">for</span> <span class="n">j</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
			<span class="n">c</span> <span class="o">=</span> <span class="n">QStandardItem</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Child_</span><span class="si">{</span><span class="n">j</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
			<span class="n">c</span><span class="o">.</span><span class="n">setData</span><span class="p">(</span><span class="n">getThemePixmap</span><span class="p">(</span><span class="s1">&#39;entity.png&#39;</span><span class="p">)</span><span class="o">.</span><span class="n">scaled</span><span class="p">(</span><span class="mi">16</span><span class="p">,</span> <span class="mi">16</span><span class="p">),</span> <span class="n">Qt</span><span class="o">.</span><span class="n">DecorationRole</span><span class="p">)</span>
			<span class="n">n</span><span class="o">.</span><span class="n">appendRow</span><span class="p">(</span><span class="n">c</span><span class="p">)</span>
			<span class="k">for</span> <span class="n">k</span> <span class="ow">in</span> <span class="nb">range</span><span class="p">(</span><span class="mi">4</span><span class="p">):</span>
				<span class="n">s</span> <span class="o">=</span> <span class="n">QStandardItem</span><span class="p">(</span><span class="sa">f</span><span class="s1">&#39;Subchild_</span><span class="si">{</span><span class="n">k</span><span class="si">}</span><span class="s1">&#39;</span><span class="p">)</span>
				<span class="c1"># s.setData(getThemePixmap(&#39;entity.png&#39;).scaled(16, 16), Qt.DecorationRole)</span>
				<span class="n">c</span><span class="o">.</span><span class="n">appendRow</span><span class="p">(</span><span class="n">s</span><span class="p">)</span>

	<span class="c1"># model.dataChanged.connect(lambda i1, i2, r: print(r))</span>
	<span class="n">view</span><span class="o">.</span><span class="n">setModel</span><span class="p">(</span><span class="n">model</span><span class="p">)</span>
	<span class="n">view</span><span class="o">.</span><span class="n">show</span><span class="p">()</span></div>
</pre></div>

           </div>
          </div>
          <footer>

  <hr/>

  <div role="contentinfo">
    <p>&#169; Copyright 2023, kakako.</p>
  </div>

  Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    provided by <a href="https://readthedocs.org">Read the Docs</a>.
   

</footer>
        </div>
      </div>
    </section>
  </div>
  <script>
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script> 

</body>
</html>